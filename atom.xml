<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Liang Yu&#39;s Website</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.yuliang.xyz/"/>
  <updated>2019-03-07T00:59:49.123Z</updated>
  <id>http://www.yuliang.xyz/</id>
  
  <author>
    <name>Liang Yu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>docker-101</title>
    <link href="http://www.yuliang.xyz/2019/03/06/docker-101/"/>
    <id>http://www.yuliang.xyz/2019/03/06/docker-101/</id>
    <published>2019-03-07T00:59:49.000Z</published>
    <updated>2019-03-07T00:59:49.123Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Microsoft Azure AZ-900 Fundamentals Exam</title>
    <link href="http://www.yuliang.xyz/2019/03/05/microsoft-az900/"/>
    <id>http://www.yuliang.xyz/2019/03/05/microsoft-az900/</id>
    <published>2019-03-05T23:48:27.000Z</published>
    <updated>2019-03-05T23:50:06.986Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Microsoft-Azure-AZ-900-Fundamentals-Exam"><a href="#Microsoft-Azure-AZ-900-Fundamentals-Exam" class="headerlink" title="Microsoft Azure AZ-900 Fundamentals Exam"></a>Microsoft Azure AZ-900 Fundamentals Exam</h1><p>Reference: <a href="https://docs.microsoft.com/en-us/learn/modules/principles-cloud-computing" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/learn/modules/principles-cloud-computing</a></p><p><strong>Target: to pass AZ900 Microsoft Azure Fundamentals Exam</strong></p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Cloud computing is renting resources, like storage space or CPU cycles, on another company’s computers. The company providing these serices is referred to as a cloud provider. Some example providers are Microsoft, Amazon, and Google.</p><h3 id="Common-cloud-computing-srevices"><a href="#Common-cloud-computing-srevices" class="headerlink" title="Common cloud computing srevices"></a>Common cloud computing srevices</h3><pre><code>1. Computer power2. Storage3. Applications - such as NoSQL or SQL database applications4. Networking - such as setting up virtual networks for virtual machines5. Analytics - such as visualizing telemetry, and performance data</code></pre><h3 id="Keep-it-short-with-two-common-services"><a href="#Keep-it-short-with-two-common-services" class="headerlink" title="Keep it short with two common services"></a>Keep it short with two common services</h3><pre><code>1. Computer power  1. Containers:      Containers provide a consistent, isolated execution environment for applications.      The open-source project, Docker, is one of the leading platforms for managing containers  2. Serverless Computing    Serverless computing lets you run application code without creating, configuring, or     maintaining a server. Serverless computing enables you to focus solely on how your     application behaves. It&apos;s ideal for automation tasks. For example, you can build a serverless     process that automatically sends an email confirmation after a customer makes an online purchase.2. Storage    Cloud providers typically offer services that can handle all of these types of data.     For example, if you wanted to store text, you could use a file on disk or you could take     a more structured approach like using a relational database.</code></pre><h3 id="Benefits-of-cloud-computing"><a href="#Benefits-of-cloud-computing" class="headerlink" title="Benefits of cloud computing"></a>Benefits of cloud computing</h3><pre><code>1. It&apos;s cost-effective or pay-as-you-go2. It&apos;s scalable  + vertical scaling (scale up) e.g. adding a faster CPU  + horizontal scaling (scale out) e.g. adding one more server3. It&apos;s elastic  As your workload changes due to a spike or drop in demand, a cloud computing system can compensate by automatically adding or removing resources4. It&apos;s currentWhen you use the cloud, you’re able to focus on what matters: building and deploying applications. You don&apos;t have to be caught up in the maintenance work of software patching, hardware setup, upgrades, and other IT management tasks.5. It&apos;s reliableCloud computing providers offer data backup, disaster recovery, and data replication services to make sure your data is always safe.6. It&apos;s globalCloud providers have fully-redundant datacenters located in various regions all over the globe. This gives you a local presence close to your customers to give them the best response time possible no matter where in the world they are.You can replicate your services into multiple regions for redundancy and locality, or select a specific region to ensure you meet data-residency and compliance laws for your customers.7. It&apos;s securephysical security to the cloud infrastructuredigital security, only authorized users to use the resources</code></pre><h3 id="Capital-expenditure-CapEx-versus-operational-expenditure-OpEx"><a href="#Capital-expenditure-CapEx-versus-operational-expenditure-OpEx" class="headerlink" title="Capital expenditure (CapEx) versus operational expenditure (OpEx)"></a>Capital expenditure (CapEx) versus operational expenditure (OpEx)</h3><p>Capital Expenditure (CapEx): CapEx is the spending of money on physical infrastructure up front, and then deducting that expense from your tax bill over time. CapEx is an upfront cost, which has a value that reduces over time.</p><ol><li>Server costs</li><li>Storage costs</li><li>Network costs</li><li>Backup and archive costs</li><li>Organization continuity and disaster recovery costs</li><li>Datacenter infrastructure costs</li><li>Technical personnel</li></ol><p>Operational Expenditure (OpEx): OpEx is spending money on services or products now and being billed for them now. You can deduct this expense from your tax bill in the same year. There’s no upfront cost. You pay for a service or product as you use it.</p><ol><li>Leasing a cloud-based server</li><li>Leasing software and customized features</li><li>Scaling charges based on usage/demand instead of fixed hardware or capacity</li><li>Billing at the user or organization level</li></ol><ul><li><p>Benefits of CapEx<br>With capital expenditures, you plan your expenses at the start of a project or budget period. Your costs are fixed, meaning you know exactly how much is being spent. This is appealing when you need to predict the expenses before a project starts due to a limited budget.</p></li><li><p>Benefits of OpEx<br>Demand and growth can be unpredictable and can outpace expectation, which is a challenge for the CapEx model as shown in the following graph.</p></li></ul><h3 id="Cloud-deployment-model"><a href="#Cloud-deployment-model" class="headerlink" title="Cloud deployment model"></a>Cloud deployment model</h3><p>A cloud deployment model defines where your data is stored and how your customers interact with it – how do they get to it, and where do the applications run? It also depends on how much of your own infrastructure you want or need to manage.</p><p>Three versions: Public, Private versus Hybrid</p><h4 id="Public-cloud"><a href="#Public-cloud" class="headerlink" title="Public cloud"></a>Public cloud</h4><ul><li><p>Advantages<br>High scalability/agility – you don’t have to buy a new server in order to scale<br>Pay-as-you-go pricing – you pay only for what you use, no CapEx costs<br>You’re not responsible for maintenance or updates of the hardware<br>Minimal technical knowledge to set up and use - you can leverage the skills and expertise of the cloud provider to ensure workloads are secure, safe, and highly available</p></li><li><p>Disadvantages<br>Not all scenarios fit the public cloud. Here are some disadvantages to think about:</p></li></ul><p>There may be specific security requirements that cannot be met by using public cloud<br>There may be government policies, industry standards, or legal requirements which public clouds cannot meet<br>You don’t own the hardware or services and cannot manage them as you may want to<br>Unique business requirements, such as having to maintain a legacy application might be hard to meet</p><h4 id="Private-cloud"><a href="#Private-cloud" class="headerlink" title="Private cloud"></a>Private cloud</h4><p>In a private cloud, you create a cloud environment in your own datacenter and provide self-service access to compute resources to users in your organization.</p><ul><li>Advantages<br>This approach has several advantages:</li></ul><p>You have complete control over the resources and can ensure the configuration can support any scenario or legacy application<br>You have complete control (and responsibility) over security<br>Private clouds can meet strict security, compliance, or legal requirements in ways a public cloud might not be able to</p><ul><li>Disadvantages<br>Some reasons teams move away from the private cloud are:</li></ul><p>You have upfront CapEx costs and must purchase the hardware for startup and maintenance<br>Owning the equipment limits the agility - to scale you must buy, install, and setup new hardware<br>Private clouds require IT skills and expertise that’s hard to come by</p><h4 id="Hybrid-cloud"><a href="#Hybrid-cloud" class="headerlink" title="Hybrid cloud"></a>Hybrid cloud</h4><p>A hybrid cloud combines public and private clouds, allowing you to run your applications in the most appropriate location. For example, you could host a website in the public cloud and link it to a highly secure database hosted in your private cloud (or on-premises datacenter).</p><ul><li>Advantages<br>Some advantages of a hybrid cloud are:</li></ul><p>You can keep any systems running and accessible that use out-of-date hardware or an out-of-date operating system<br>You have flexibility with what you run locally versus in the cloud<br>You can take advantage of economies of scale from public cloud providers for services and resources where it’s cheaper, and then supplement with your own equipment when it’s not<br>You can use your own equipment to meet security, compliance, or legacy scenarios where you need to completely control the environment</p><ul><li>Disadvantages<br>Some concerns you’ll need to watch out for are:</li></ul><p>It can be more expensive than selecting one deployment model since it involves some CapEx cost up front<br>It can be more complicated to set up and manage</p><h2 id="Types-of-Cloud-Services"><a href="#Types-of-Cloud-Services" class="headerlink" title="Types of Cloud Services"></a>Types of Cloud Services</h2><p>Three categories:</p><ol><li>Infrastructure as a service (IaaS)</li></ol><ol><li>Platform as a service (PaaS)</li></ol><ol><li>Software as a service (SaaS)</li></ol><h2 id="Azure-management-options"><a href="#Azure-management-options" class="headerlink" title="Azure management options"></a>Azure management options</h2><ul><li><p>Azure portal for interacting with Azure via a Graphical User Interface (GUI)</p></li><li><p>Azure PowerShell and Azure Command-Line Interface (CLI) for command line and automation-based interactions with Azure</p></li><li>Azure Cloud Shell for a web-based command-line interface</li><li>Azure mobile app for monitoring and managing your resources from your mobile device</li></ul><p>There are four common techniques for performing compute in Azure:</p><ol><li>Virtual machines</li><li>Containers – Containers are a virtualization environment for running applications</li><li>Azure App Service</li><li>Serverless computing</li></ol><p>Storage tiers</p><p>Azure offers three storage tiers for blob object storage:</p><p><strong>Hot storage tier:</strong> optimized for storing data that is accessed frequently.</p><p><strong>Cool storage tier:</strong> optimized for data that is infrequently accessed and stored for at least 30 days.</p><p><strong>Archive storage tier:</strong> for data that is rarely accessed and stored for at least 180 days with flexible latency requirements.</p><p>What’s an Azure region? - A region is one or more Azure data centers within a specific geographic location. </p><p>A virtual network is a logically isolated network on Azure. </p><p>A virtual network allows Azure resources to securely communicate with each other, the internet, and on-premises networks. A virtual network is scoped to a single region; however, multiple virtual networks from different regions can be connected together using virtual network peering.</p><p>You can also keep your service or data tiers in your on-premises network, placing your web tier into the cloud, but keeping tight control over other aspects of your application. A VPN gateway (or virtual network gateway), enables this scenario. It can provide a secure connection between an Azure Virtual Network and an on-premises location over the internet.</p><p>What’s a network security group?</p><p>A network security group, or NSG, allows or denies inbound network traffic to your Azure resources. Think of a network security group as a cloud-level firewall for your network.</p><p>Authentication and authorization<br>Two fundamental concepts that need to be understood when talking about identity and access control are authentication and authorization. They underpin everything else that happens and occur sequentially in any identity and access process:</p><p>Authentication is the process of establishing the identity of a person or service looking to access a resource. It involves the act of challenging a party for legitimate credentials, and provides the basis for creating a security principal for identity and access control use. It establishes if they are who they say they are.</p><p>Authorization is the process of establishing what level of access an authenticated person or service has. It specifies what data they’re allowed to access and what they can do with it.</p><p>To provide a dedicated, private connection between your network and Azure, you can use Azure ExpressRoute. ExpressRoute lets you extend your on-premises networks into the Microsoft cloud over a private connection facilitated by a connectivity provider. With ExpressRoute, you can establish connections to Microsoft cloud services, such as Microsoft Azure, Office 365, and Dynamics 365. This improves the security of your on-premises communication by sending this traffic over the private circuit instead of over the public internet. You don’t need to allow access to these services for your end users over the public internet, and you can send this traffic through appliances for further traffic inspection.</p><p>Course Outline<br>Module 1: Cloud Concepts<br>In this module you will learn basic cloud concepts.<br>Lessons<br>Learning Objectives<br>Why Cloud Services?<br>Infrastructure-as-a-Service (IaaS), Platform-as-a-Service (PaaS) and Software-as-a-Service (SaaS)<br>Public, Private, and Hybrid cloud models<br>After completing this module, students will be able:</p><p>Understand general cloud computing concepts<br>Module 2: Core Azure Services<br>In this module you will learn the basics core services available with Microsoft Azure.<br>Lessons<br>Core Azure architectural components<br>Core Azure Services and Products<br>Azure Solutions<br>Azure management tools<br>After completing this module, students will be able:</p><p>Understand core services available with Microsoft Azure<br>Module 3: Security, Privacy, Compliance and Trust<br>In this module, you learn about security, privacy, compliance, and trust with Microsoft Azure.<br>Lessons<br>Securing network connectivity in Azure<br>Core Azure Identity services<br>Security tools and features<br>Azure governance methodologies<br>Monitoring and Reporting in Azure<br>Privacy, Compliance and Data Protection standards in Azure<br>After completing this module, students will be able:</p><p>Understand security, privacy, compliance and trust with Microsoft Azure<br>Module 4: Azure Pricing and Support<br>In this module, you will focus on pricing and support models available with Microsoft.<br>Lessons<br>Azure subscriptions<br>Planning and managing costs<br>Support options available with Azure<br>Service lifecycle in Azure<br>After completing this module, students will be able:</p><p>Understand pricing and support models available with Microsoft </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Microsoft-Azure-AZ-900-Fundamentals-Exam&quot;&gt;&lt;a href=&quot;#Microsoft-Azure-AZ-900-Fundamentals-Exam&quot; class=&quot;headerlink&quot; title=&quot;Microsoft Az
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>AZ-100 Azure Infrastructure and Deployment</title>
    <link href="http://www.yuliang.xyz/2019/03/05/microsoft-az100/"/>
    <id>http://www.yuliang.xyz/2019/03/05/microsoft-az100/</id>
    <published>2019-03-05T23:48:23.000Z</published>
    <updated>2019-03-05T23:49:42.409Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Test-Preparation-to-being-a-full-fledged-Microsoft-Azure-Administrator-Certificate"><a href="#Test-Preparation-to-being-a-full-fledged-Microsoft-Azure-Administrator-Certificate" class="headerlink" title="Test Preparation to being a full-fledged Microsoft Azure Administrator Certificate"></a>Test Preparation to being a full-fledged Microsoft Azure Administrator Certificate</h1><h2 id="AZ-100-Azure-Infrastructure-and-Deployment"><a href="#AZ-100-Azure-Infrastructure-and-Deployment" class="headerlink" title="AZ-100 Azure Infrastructure and Deployment"></a>AZ-100 Azure Infrastructure and Deployment</h2><p>40-60 questions, exam will be around 180 minutes, pass with 700 marks</p><h3 id="Manage-Azure-subscriptions-and-resources-15-20"><a href="#Manage-Azure-subscriptions-and-resources-15-20" class="headerlink" title="Manage Azure subscriptions and resources (15-20%)"></a>Manage Azure subscriptions and resources (15-20%)</h3><h4 id="Manage-Azure-subscriptions"><a href="#Manage-Azure-subscriptions" class="headerlink" title="Manage Azure subscriptions"></a>Manage Azure subscriptions</h4><pre><code>1. Assign administrator permissions2. Configure cost center quotas and tagging3. Configure Azure subscription polices at Azure subscription level</code></pre><h4 id="Analyze-resource-utilization-and-consumption"><a href="#Analyze-resource-utilization-and-consumption" class="headerlink" title="Analyze resource utilization and consumption"></a>Analyze resource utilization and consumption</h4><pre><code>1. Configure diagnostic settings on reources2. Create baseline for resources3. Create and test alerts4. Analyze alerts across subscription5. Analyze metrics across subscription6. Create action groups7. Monitor for unsused resources8. Monitor spend9. Report on spend10. utilize Log Search query functions11. view alerts in Log Analytics</code></pre><h4 id="Manage-resource-groups"><a href="#Manage-resource-groups" class="headerlink" title="Manage resource groups"></a>Manage resource groups</h4><pre><code>1. Use Azure policies for resource groups2. Configure resource locks3. Configure resource policies4. Implement and set tagging on resource groups5. Move resources across resource groups6. Remove resources groups</code></pre><h3 id="Implement-and-manage-storage-20-25"><a href="#Implement-and-manage-storage-20-25" class="headerlink" title="Implement and manage storage (20-25%)"></a>Implement and manage storage (20-25%)</h3><h4 id="Create-and-configure-storage-accounts"><a href="#Create-and-configure-storage-accounts" class="headerlink" title="Create and configure storage accounts"></a>Create and configure storage accounts</h4><pre><code>1. Configure network access to the storage account2. Create and configure storage account3. Generate shared access signature4. Install and use Azure Storage Explorer5. Manage access keys6. Monitor activity log by using Log Analytics7. Implement Azure storage replication</code></pre><h4 id="Import-and-export-data-to-Azure"><a href="#Import-and-export-data-to-Azure" class="headerlink" title="Import and export data to Azure"></a>Import and export data to Azure</h4><pre><code>1. Create export from Azure job2. Create import into Azure job3. Use Azure Data Box4. Configure and use Azure blob storage5. Configure Azure content delivery network (CDN) endpoints</code></pre><h4 id="Configure-Azure-files"><a href="#Configure-Azure-files" class="headerlink" title="Configure Azure files"></a>Configure Azure files</h4><pre><code>1. Create Azure file share2. Create Azure File Sync service3. Create Azure sync group4. Troubleshoot Azure File Sync</code></pre><h4 id="Implement-Azure-backup"><a href="#Implement-Azure-backup" class="headerlink" title="Implement Azure backup"></a>Implement Azure backup</h4><pre><code>1. Configure and review backup reports2. Perform backup operation3. Create Recovery Services Vault4. Create and configure backup policy5. Perform a restore operation</code></pre><h3 id="Deploy-and-manage-virtual-machines-VMs-20-25"><a href="#Deploy-and-manage-virtual-machines-VMs-20-25" class="headerlink" title="Deploy and manage virtual machines (VMs) (20-25%)"></a>Deploy and manage virtual machines (VMs) (20-25%)</h3><h4 id="Create-and-configure-a-VM-for-Windows-and-Linux"><a href="#Create-and-configure-a-VM-for-Windows-and-Linux" class="headerlink" title="Create and configure a VM for Windows and Linux"></a>Create and configure a VM for Windows and Linux</h4><pre><code>1. Configure high availabilty2. Configure monitoring, networking, storage, and virtual machine size3. deploy and configure scale sets</code></pre><h4 id="Automate-deployment-of-VMs"><a href="#Automate-deployment-of-VMs" class="headerlink" title="Automate deployment of VMs"></a>Automate deployment of VMs</h4><pre><code>1. Modify Azure Resource Manager(ARM) template2. Configure location of new VMs3. Configure VHD template4. Deploy from template5. Save a deployment as an ARM template6. Deploy Windows and Linux VMs</code></pre><h4 id="Manage-Azure-VM"><a href="#Manage-Azure-VM" class="headerlink" title="Manage Azure VM"></a>Manage Azure VM</h4><pre><code>1. Add data discs2. Add network interfaces3. Automate configuration management by using PowerShell Desired State Configuration (DSC) and VM Agent by using custom script extensions4. Manage VM sizes5. Move VMs from one resource group to another6. Redeploy VMs</code></pre><h4 id="Manage-VM-backups"><a href="#Manage-VM-backups" class="headerlink" title="Manage VM backups"></a>Manage VM backups</h4><pre><code>1. Configure VM backup2. Define backup policies3. Implement backup policies4. Perform VM restore</code></pre><h3 id="Configure-and-manage-virtual-networks-20-25"><a href="#Configure-and-manage-virtual-networks-20-25" class="headerlink" title="Configure and manage virtual networks (20-25%)"></a>Configure and manage virtual networks (20-25%)</h3><h4 id="Create-connectivity-between-virtual-networks"><a href="#Create-connectivity-between-virtual-networks" class="headerlink" title="Create connectivity between virtual networks"></a>Create connectivity between virtual networks</h4><pre><code>1. Create and configure VNET peering2. Create and configure VNET to VNET3. Verify virtual network connectivity4. Create virtual network gateway</code></pre><h4 id="Impement-and-manage-virtual-networking"><a href="#Impement-and-manage-virtual-networking" class="headerlink" title="Impement and manage virtual networking"></a>Impement and manage virtual networking</h4><pre><code>1. Configure provate and public IP addresses2. Network routes3. Network interface, subnets, and virtual network</code></pre><h4 id="Configure-name-resolution"><a href="#Configure-name-resolution" class="headerlink" title="Configure name resolution"></a>Configure name resolution</h4><pre><code>1. Configure Azure DNS2. Configure custom DNS settings3. Configure private and public DNS zones</code></pre><h4 id="Create-and-configure-a-Network-Security-Group-NSG"><a href="#Create-and-configure-a-Network-Security-Group-NSG" class="headerlink" title="Create and configure a Network Security Group (NSG)"></a>Create and configure a Network Security Group (NSG)</h4><pre><code>1. Create security rules2. associate NSG to a subnet or network interface3. identify required ports4. evaluate effective security rules</code></pre><h3 id="Manage-identities-15-20"><a href="#Manage-identities-15-20" class="headerlink" title="Manage identities (15-20%)"></a>Manage identities (15-20%)</h3><h4 id="Manage-Azure-Active-Directory-AD"><a href="#Manage-Azure-Active-Directory-AD" class="headerlink" title="Manage Azure Active Directory (AD)"></a>Manage Azure Active Directory (AD)</h4><pre><code>1. Add custom domains2. Configure Azure AD Identity Protection3. Azure AD Join, and Enterprise State Roaming4. Configure self-service password reset5. Implement conditional access policies6. Manage multiple directories7. Perform an access review</code></pre><h4 id="Manage-Azure-AD-objects-usres-groups-and-devices"><a href="#Manage-Azure-AD-objects-usres-groups-and-devices" class="headerlink" title="Manage Azure AD objects (usres, groups, and devices)"></a>Manage Azure AD objects (usres, groups, and devices)</h4><pre><code>1. Create users and groups2. Manage user and group properties3. Manage device settings4. Perform bulk user updates</code></pre><h4 id="Implement-and-manage-hybrid-identites"><a href="#Implement-and-manage-hybrid-identites" class="headerlink" title="Implement and manage hybrid identites"></a>Implement and manage hybrid identites</h4><pre><code>1. Install and configure Azure AD Connect2. Configure federation and single sign-on3. Manage Azure AD Connect4. Manage password sync and writeback</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Test-Preparation-to-being-a-full-fledged-Microsoft-Azure-Administrator-Certificate&quot;&gt;&lt;a href=&quot;#Test-Preparation-to-being-a-full-fledg
      
    
    </summary>
    
    
      <category term="azure" scheme="http://www.yuliang.xyz/tags/azure/"/>
    
  </entry>
  
  <entry>
    <title>Objected Oriented Design</title>
    <link href="http://www.yuliang.xyz/2019/02/07/design-ood/"/>
    <id>http://www.yuliang.xyz/2019/02/07/design-ood/</id>
    <published>2019-02-08T03:34:35.000Z</published>
    <updated>2019-02-08T03:35:11.722Z</updated>
    
    <content type="html"><![CDATA[<p>OOD. 老老实实实现了两遍Singleton, Factory, 还有MVC pattern. 设计一个class应该也算在OOD范围里:<br>写过无数遍LRU, Trie, Iterator, BST以及变种, BlockingQueue等等, 生怕被问到…</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;OOD. 老老实实实现了两遍Singleton, Factory, 还有MVC pattern. 设计一个class应该也算在OOD范围里:&lt;br&gt;写过无数遍LRU, Trie, Iterator, BST以及变种, BlockingQueue等等, 生怕被问到…&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="ood" scheme="http://www.yuliang.xyz/tags/ood/"/>
    
  </entry>
  
  <entry>
    <title>IP Sec 101</title>
    <link href="http://www.yuliang.xyz/2019/02/03/ipsec-101/"/>
    <id>http://www.yuliang.xyz/2019/02/03/ipsec-101/</id>
    <published>2019-02-03T20:18:43.000Z</published>
    <updated>2019-02-03T20:19:20.926Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IP-Security"><a href="#IP-Security" class="headerlink" title="IP Security"></a>IP Security</h1><p>Ipsec协议不是一个单独的协议，它包括认证头AH（Authentication Header），封装安全载荷ESP（Encapsulating Security Payload），密钥交换协议IKE（Internet Key Exchange）和用于网络认证及加密的一些算法等。其中，AH和ESP协议用于提供安全服务，IKE协议用于提供密钥交换。</p><p>Authentication Header (AH)<br>Encapsulating Security Payload (ESP)</p><p>IPSec also uses other existing encryption standards to make up a protocol suite, which are explained in the next sections.<br>IPSec has several standards that are supported by Cisco IOS and the PIX Firewall.</p><p>IP Security Protocol<br>Authentication Header (AH)<br>Encapsulating Security Payload (ESP)<br>Data Encryption Standard (DES)<br>Triple DES (3DES)<br>Diffie-Hellman (D-H)<br>Message Digest 5 (MD5)<br>Secure Hash Algorithm-1 (SHA-1)<br>Rivest, Shamir, and Adelman (RSA) Signatures<br>Internet Key Exchange (IKE)<br>Certificate Authorities (CAs)</p><h2 id="IP-Security-简介"><a href="#IP-Security-简介" class="headerlink" title="IP Security 简介"></a>IP Security 简介</h2><p>英语：Internet Protocol Security，縮寫為IPsec），是一個协议套件，透过对IP协议的分组进行加密和认证来保护IP协议的网络传输协议族（一些相互关联的协议的集合）。</p><p>IPsec主要由以下协议组成[1][2]：一、认证头（AH），为IP数据报提供无连接数据完整性、消息认证以及防重放攻击保护[3][4]；二、封装安全载荷（ESP），提供机密性、数据源认证、无连接完整性、防重放和有限的传输流（traffic-flow）机密性[5]；三、安全關聯（SA），提供算法和数据包，提供AH、ESP操作所需的参数[6]。</p><p>IP Security (IPsec) protocols provide security services such as encrypting sensitive data, authentication, protection against replay, and data confidentiality for IP packets.  </p><p> 一种三层隧道加密协议。它为Internet上传输的数据提供了高质量的、可互操作的、基于密码学的安全保证。<br> 特定的通信方之间在IP层通过加密与数据源认证等方式，提供了以下的三种安全服务：</p><ul><li><p>数据机密性(Data Confidentiality):       IPsec发送方在通过网络传输包前对包进行加密。<br>在传输前，对数据进行加密，可以保证在传输过程中，即使数据包遭截取，信息也无法被读。该特性在IPSec中为可选项，与IPSec策略的具体设置相关。</p></li><li><p>数据完整性(Data Integrity):        IPsec接收方对发送方发送来的包进行认证，以确保数据在传输过程中没有被篡改。<br>防止传输过程中数据被篡改，确保发出数据和接收数据的一致性。IPSec利用Hash函数为每个数据包产生一个加密检查和，接收方在打开包前先计算检查和，若包遭篡改导致检查和不相符，数据包即被丢弃。</p></li><li><p>数据来源认证(Data Authentication):  IPsec在接收端可以认证发送IPsec报文的发送端是否合法。<br>“不可否认性”可以证实消息发送方是唯一可能的发送者，发送者不能否认发送过消息。“不可否认性”是采用公钥技术的一个特征，当使用公钥技术时，发送方用私钥产生一个数字签名随消息一起发送，接收方用发送者的公钥来验证数字签名。由于在理论上只有发送者才唯一拥有私钥，也只有发送者才可能产生该数字签名，所以只要数字签名通过验证，发送者就不能否认曾发送过该消息</p></li><li><p>防报文重放功能(Antireplay)：“反重播”确保每个IP包的唯一性，保证信息万一被截取复制后，不能再被重新利用、重新传输回目的地址。该特性可以防止攻击者截取破译信息后，再用相同的信息包冒取非法访问权。 sender sets the replay bit in the header </p></li></ul><h2 id="IP-Security-实现"><a href="#IP-Security-实现" class="headerlink" title="IP Security 实现"></a>IP Security 实现</h2><p>IP Security 提供了两种安全机：认证和加密。</p><ol><li>认证：使接收方可以确认发送方的真实身份，确认原始数据没有遭到篡改</li><li>加密：发送方发送的数据被加密，防止数据被窃听</li></ol><p>协议族：</p><ol><li>网络认证协议AH（Authentication Header，认证头） –&gt; 1st security protocol to provide security services</li><li>ESP（Encapsulating Security Payload，封装安全载荷）–&gt; 2nd security protocol to provide security services</li><li><p>IKE（Internet Key Exchange，因特网密钥交换）–&gt;<br>IKE协议（互联网密钥交换协议）: 两个系统端使用IKE协议来互相验证，并协商建立IPsec通道所需的特定加密参数和两端特定的网段。IKE负责连接双方的身份验证，双方协商得出的密码和使用的加密算法都告知给操作系统，操作系统对两边网段之间的流量数据进行加密传输。</p></li><li><p>用于网络认证及加密的一些算法</p></li></ol><p>IPSEC安全机制中两种协议的比较：<br>  AH协议 (IP协议号为51): 提供数据源认证、数据完整性校验和防报文重放功能，它能保护通信免受篡改，但不能防止窃听，适合用于传输非机密数据。AH的工作原理是在每一个数据包上添加一个身份验证报文头，此报文头插在标准IP包头后面，对数据提供完整性保护。，但因为IP头部分包含很多变量，比如type of service(TOS)，flags，fragment offset，TTL以及header checksum。所以这些值在进行authtication前要全部清零。否则hash会mismatch导致丢包。因此AH不支持NAT转换。</p><p>  ESP协议 (IP协议号为50): 提供加密、数据源认证、数据完整性校验和防报文重放功能。ESP的工作原理是在每一个数据包的标准IP包头后面添加一个ESP报文头，并在数据包后面追加一个ESP尾。与AH协议不同的是，ESP将需要保护的用户数据进行加密后再封装到IP包中，以保证数据的机密性。</p><p>IKE提供端与端之间的动态认证，IKE为Ipsec提供自动协商交换密钥、建立SA的服务<br>IKE协商建立的SA有两种定义的生命周期：基于时间和基于流量 </p><p>IPSEC SA:<br>SA（Security Association，安全联盟）SA是IPsec的基础，也是IPsec的本质。IPsec在两个端点之间提供安全通信，端点被称为IPsec对等体。SA是通信对等体间对某些要素的约定，例如，使用哪种协议（AH、ESP还是两者结合使用）、协议的封装模式（传输模式和隧道模式）、加密算法（DES、3DES和AES）、特定流中保护数据的共享密钥以及密钥的生存周期等。</p><p>建立SA的方式有手工配置和IKE自动协商两种。</p><p>SA是单向的，在两个对等体之间的双向通信，最少需要两个SA来分别对两个方向的数据流进行安全保护。同时，如果两个对等体希望同时使用AH和ESP来进行安全通信，则每个对等体都会针对每一种协议来构建一个独立的SA。</p><p>SA由一个三元组来唯一标识，这个三元组包括SPI（Security Parameter Index，安全参数索引）、目的IP地址、安全协议号（AH或ESP）。</p><p>SPI是用于唯一标识SA的一个32比特数值，它在AH和ESP头中传输。在手工配置SA时，需要手工指定SPI的取值。使用IKE协商产生SA时，SPI将随机生成。<br>通过IKE协商建立的SA具有生存周期，手工方式建立的SA永不老化。</p><p>IKE协商建立的SA的生存周期有两种定义方式：</p><ul><li>基于时间的生存周期，定义了一个SA从建立到失效的时间；</li><li>基于流量的生存周期，定义了一个SA允许处理的最大流量。<br>生存周期到达指定的时间或指定的流量，SA就会失效。SA失效前，IKE将为IPsec协商建立新的SA，这样，在旧的SA失效前新的SA就已经准备好。在新的SA开始协商而没有协商好之前，继续使用旧的SA保护通信。在新的SA协商好之后，则立即采用新的SA保护通信。</li></ul><p>决定了对报文进行何种处理<br>协议、算法、密钥</p><p>每个IPSec SA都是单向的<br>手工建立/IKE协商生成</p><p>IPSec对数据流提供的安全服务通过SA来实现<br>SPD（Security Policy Database）<br>SAD（Security Association Database）</p><p>SA[Security Associations]是单向，在两个对等体之间的双向通信，最少需要两个SA来分别对两个方向的数据流进行安全保护。  </p><h3 id="4-认证算法和加密算法"><a href="#4-认证算法和加密算法" class="headerlink" title="4. 认证算法和加密算法"></a>4. 认证算法和加密算法</h3><p>4.1 认证算法<br>认证算法的实现主要是通过杂凑函数。杂凑函数是一种能够接受任意长的消息输入，并产生固定长度输出的算法，<br>该输出称为消息摘要。IPsec对等体计算摘要，如果两个摘要是相同的，则表示报文是完整未经篡改的。</p><p>  IPsec使用两种认证算法：</p><ol><li>MD5：MD5通过输入任意长度的消息，产生128bit的消息摘要</li><li>SHA-1：SHA-1通过输入长度小于2的64次方bit的消息，产生160bit的消息摘要</li></ol><p>4.2 加密算法<br>加密算法实现主要通过对称密钥系统，它使用相同的密钥对数据进行加密和解密。</p><p>目前设备的IPsec实现三种加密算法:</p><ol><li>DES（Data Encryption Standard）：使用56bit的密钥对一个64bit的明文块进行加密。</li><li>3DES（Triple DES）：使用三个56bit的DES密钥（共168bit密钥）对明文进行加密。</li><li>AES（Advanced Encryption Standard）：使用128bit、192bit或256bit密钥长度的AES算法对明文进行加密。</li></ol><p>这三个加密算法的安全性由高到低依次是：AES、3DES、DES，安全性高的加密算法实现机制复杂，运算速度慢。对于普通的安全要求，DES算法就可以满足需要。</p><h2 id="协商方式"><a href="#协商方式" class="headerlink" title="协商方式"></a>协商方式</h2><p>两种协商方式建立SA：</p><p>手工方式（manual）：<br>    配置比较复杂，创建SA所需的全部信息都必须手工配置，而且不支持一些高级特性（例如定时更新密钥），但优点是可以不依赖IKE而单独实现IPsec功能。</p><p>IKE自动协商（isakmp）：<br>    方式相对比较简单，只需要配置好IKE协商安全策略的信息，由IKE自动协商来创建和维护SA。<br>当与之进行通信的对等体设备数量较少时，或是在小型静态环境中，手工配置SA是可行的。对于中、大型的动态网络环境中，推荐使用IKE协商建立SA。</p><h2 id="工作模式（封装模式）"><a href="#工作模式（封装模式）" class="headerlink" title="工作模式（封装模式）"></a>工作模式（封装模式）</h2><ol><li>隧道（tunnel）模式：用户的整个IP数据包被用来计算AH或ESP头，AH或ESP头以及ESP加密的用户数据被封装在一个新的IP数据包中。<br>通常，隧道模式应用在两个安全网关之间的通讯。</li><li>传输（transport）模式：只是传输层数据被用来计算AH或ESP头，AH或ESP头以及ESP加密的用户数据被放置在原IP包头后面。<br>通常，传输模式应用在两台主机之间的通讯，或一台主机和一个安全网关之间的通讯。</li></ol><p>data encapsulation diagram</p><p><a href="https://zh.wikipedia.org/wiki/IPsec" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/IPsec</a></p><p>IPsec协议必须处理可靠性和分片的问题<br>认证头（AH）<br>认证头（Authentication Header，AH）被用来保证被传输分组的完整性和可靠性。此外，它还保护不受重放攻击。认证头试图保护IP数据报的所有字段，那些在传输IP分组的过程中要发生变化的字段就只能被排除在外。当认证头使用非对称数字签名算法（如RSA）时，可以提供不可否认性（RFC 1826）[10]。</p><p>认证头分组图示：</p><p>0    1    2    3<br>0 1 2 3 4 5 6 7    0 1 2 3 4 5 6 7    0 1 2 3 4 5 6 7    0 1 2 3 4 5 6 7<br>下一个头    载荷长度    保留<br>安全参数索引（SPI）<br>序列号<br>认证数据（可变长度）<br>字段含义：</p><p>下一个头：标识被传送数据所属的协议。<br>载荷长度：认证头包的大小。<br>保留：为将来的应用保留（目前都置为0）。<br>安全参数索引：与IP地址一同用来标识安全参数。<br>序列号：单调递增的数值，用来防止重放攻击。<br>认证数据：包含了认证当前包所必须的数据。</p><p>将VPN主要划分为两类，一类是工作于客户端到服务端的模式，像OpenVPN，SSL VPN，L2TP，PPTP这些都是需要客户端主动发起连接，拨到Server端在两者之间建立一个逻辑上的隧道 (tunnel)进行通信。这种方式一般适用于个人到总部场景。</p><p>另外一种就是站点到站点（site-to-site）的模式，像OpenSwan，StrongSwan， Raccoon 等软件，这种情况下两端会各有一个设备负责来建立两个站点之间安全通信的隧道，任何需要到对端的通信都会触发设备来建立安全隧道通信。 那么公司原有数据中心与云通信都是双向通信，所以站点到站点更合理。 实际上这里说的 VPN 即是指 IPsec VPN，IPsec 是一种工业标准，只要支持这种标准的设备都可以互相协商建立一个安全的隧道出来，比如支持的硬件设备有路由器，防火墙以及专业的 VPN 设备</p><h2 id="IPSEC-Over-GRE-IPSec在里，GRE在外-OR-GER-Over-IPSEC-（GRE-在里，-IPSec在外）"><a href="#IPSEC-Over-GRE-IPSec在里，GRE在外-OR-GER-Over-IPSEC-（GRE-在里，-IPSec在外）" class="headerlink" title="IPSEC Over GRE(IPSec在里，GRE在外) OR GER Over IPSEC （GRE 在里， IPSec在外）"></a>IPSEC Over GRE(IPSec在里，GRE在外) OR GER Over IPSEC （GRE 在里， IPSec在外）</h2><ul><li>IPSec建立的隧道在设计时就只支持IP单播，并且也不支持组播，即不能传递路由协议，所以IGP动态路由协议的流量不可能穿越IPSec隧道， 并且也不支持非IP协议的流量。</li><li>GRE只提供了数据包的封装，它并没有加密功能来防止网络侦听和攻击，不支持对于数据完整性以及身份认证的验证功能。支持传递路由协议。</li></ul><p>IPSEC Over GRE：<br>先把需要加密的数据包封装成IPSEC包，然后再扔到GRE隧道里。作法是把IPSEC的加密图作用在Tunnel口上的，即在Tunnel口上监控（访问控制列表监控本地ip网段-源i和远端ip网段-目的地），是否有需要加密的数据流，有则先加密封装为IPSEC包，然后封装成GRE包进入隧道（这里显而易见的是，GRE隧道始终无论如何都是存在的，即GRE隧道的建立过程并没有被加密），同时，未在访问控制列表里的数据流将以不加密的状态直接走GRE隧道，即存在有些数据可能被不安全地传递的状况。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a. 访问控制列表，针对两个网段的数据流，如：</span><br><span class="line">   ip access-list extended vpn12</span><br><span class="line">   permit ip 10.1.1.0 0.0.0.255 10.2.2.0 0.0.0.255</span><br><span class="line">b. 加密图放在Tunnel口</span><br></pre></td></tr></table></figure><p>GRE Over IPSEC：<br>先把数据分装成GRE包，然后再分装成IPSEC包。做法是在物理接口上监控，是否有需要加密的GRE流量（访问控制列表针对GRE两端的设备ip），所有的这两个端点的GRE数据流将被加密分装为IPSEC包再进行传递，这样保证的是所有的数据包都会被加密，包括隧道的建立和路由的建立和传递。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a. 访问列表，针对两个路由器之间的GRE流，如：</span><br><span class="line">   ip access-list extended vpn12</span><br><span class="line">   permit gre host 172.16.11.2 host 172.16.22.2</span><br><span class="line">b. 加密图作用在物理口。</span><br></pre></td></tr></table></figure><p>只有当GRE Over IPSEC的时候，才可以将模式改为传输模式。</p><h2 id="L2TP-Layer-2-Tunneling-Protocol-v-s-IPSec"><a href="#L2TP-Layer-2-Tunneling-Protocol-v-s-IPSec" class="headerlink" title="L2TP(Layer 2 Tunneling Protocol) v.s. IPSec"></a>L2TP(Layer 2 Tunneling Protocol) v.s. IPSec</h2><h2 id="CI-Continous-Integeration-amp-amp-CD-Continous-Delivery"><a href="#CI-Continous-Integeration-amp-amp-CD-Continous-Delivery" class="headerlink" title="CI (Continous Integeration)  &amp;&amp; CD (Continous Delivery)"></a>CI (Continous Integeration)  &amp;&amp; CD (Continous Delivery)</h2><p>软件交付管道以快速、自动化和可重复的方式从源代码生成发布版本。如何完成这项工作的总体设计称为“持续交付”（CD）。启动装配线的过程称为“持续集成”（CI）。确保质量的过程称为“持续测试”，将最终产品提供给用户的过程称为“持续部署”。一些专家让这一切简单、顺畅、高效地运行，这些人被称为运维开发DevOps践行者。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;IP-Security&quot;&gt;&lt;a href=&quot;#IP-Security&quot; class=&quot;headerlink&quot; title=&quot;IP Security&quot;&gt;&lt;/a&gt;IP Security&lt;/h1&gt;&lt;p&gt;Ipsec协议不是一个单独的协议，它包括认证头AH（Authenti
      
    
    </summary>
    
    
      <category term="networking, tcp/ip protocol" scheme="http://www.yuliang.xyz/tags/networking-tcp-ip-protocol/"/>
    
  </entry>
  
  <entry>
    <title>Java Thread</title>
    <link href="http://www.yuliang.xyz/2019/01/27/java-thread/"/>
    <id>http://www.yuliang.xyz/2019/01/27/java-thread/</id>
    <published>2019-01-27T22:52:43.000Z</published>
    <updated>2019-02-11T01:04:18.804Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Objective-4-1-Defining-Instantiating-and-Starting-Threads"><a href="#Objective-4-1-Defining-Instantiating-and-Starting-Threads" class="headerlink" title="Objective 4.1 Defining, Instantiating, and Starting Threads"></a>Objective 4.1 Defining, Instantiating, and Starting Threads</h2><h3 id="Defining-a-Thread"><a href="#Defining-a-Thread" class="headerlink" title="Defining a Thread"></a>Defining a Thread</h3><h4 id="Extend-the-java-lang-Thread-class"><a href="#Extend-the-java-lang-Thread-class" class="headerlink" title="Extend the java.lang.Thread class"></a>Extend the java.lang.Thread class</h4><ol><li>extend the java.lang.Thread class</li><li>override the run() method</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"Running the task in a seperate thread"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// can overload the run() method, but it will be ignored by the Thread class</span></span><br><span class="line"><span class="comment">// unless you call it yourself， and it will be executed in the current call stack</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"String in run is: "</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Implement-the-java-lang-Runnable-interface"><a href="#Implement-the-java-lang-Runnable-interface" class="headerlink" title="Implement the java.lang.Runnable interface"></a>Implement the java.lang.Runnable interface</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"Important job running in MyRunnable."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Instantiating-a-Thread"><a href="#Instantiating-a-Thread" class="headerlink" title="Instantiating a Thread"></a>Instantiating a Thread</h3><p>Every thread of execution begins as an instance of class Thread.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MyThread t = <span class="keyword">new</span> MyThread();</span><br><span class="line"></span><br><span class="line">MyRunnable r = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">Thread t = <span class="keyword">new</span> Thread(r);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Constructors need to know</span></span><br><span class="line">Thread()</span><br><span class="line">Thread(Runnable target)</span><br><span class="line">Thread(Runnable target, String name)</span><br><span class="line">Thread(String name)</span><br></pre></td></tr></table></figure><p>new -&gt; runnable alive  -&gt; dead</p><p>start()</p><p>yield()</p><p>sleep()</p><p>run()</p><p>getState() method<br>isAlive() start() is called but run() is not called</p><p>Thread &amp; Locks. 考得不多但是面ebay碰到了. 主要知识点: thread和process区别, multithread, lock, semaphore, 对resource分配, deadlock, 怎么解决/预防deadlock. 还有BlockingQueue 和 Producer-Consumer经典题要会implement.<br>这里有几个经典问题:<br><a href="https://www.careercup.com/question?id=4783236498587648" target="_blank" rel="noopener">https://www.careercup.com/question?id=4783236498587648</a><br><a href="https://www.careercup.com/question?id=5652784707796992" target="_blank" rel="noopener">https://www.careercup.com/question?id=5652784707796992</a></p><ul><li>Semaphore:</li></ul><p>When a process encounters a semaphore, it performs a test to determine whether someone else is currently accessing the resources the semaphore protects.<br>If so, the process blocks and waits until another process signals that the resource is available. Since many process may be waiting on a resource, some<br>implementions of semaphores use a queue to determine who is next to go.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Objective-4-1-Defining-Instantiating-and-Starting-Threads&quot;&gt;&lt;a href=&quot;#Objective-4-1-Defining-Instantiating-and-Starting-Threads&quot; clas
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>投资美股入门</title>
    <link href="http://www.yuliang.xyz/2018/08/21/us-stock-101/"/>
    <id>http://www.yuliang.xyz/2018/08/21/us-stock-101/</id>
    <published>2018-08-21T04:15:46.000Z</published>
    <updated>2019-01-21T20:26:24.676Z</updated>
    
    <content type="html"><![CDATA[<p>可转债： convertible bond/debenture/note</p><ul><li>上市公司发行的一种低息债券，在发行的时候，表明了它的利息，期限，支付方式，还同时规定了一个价格。</li><li>转股股价，发行时，确定的转股股价，一般不会改变，但当正股股价低于转股股价的时候，上市公司有可能会调低转股价，转股价只能调低不能调高</li><li>大盘好的时候</li><li>股票上涨的时候</li><li>股票下跌的时候，会触发回售条款</li><li>正股价：公司的股价，随行情波动</li><li>可转债价格：公司的转债价格，随行情进行波动，但不会无限上涨，会触发强赎条款</li><li>可转债发行价格</li></ul><p>公式： 可转股数 = 100（可转债的规定发行价格） / 当时规定的转股价 （可变）</p><p>什么时候/情况下，可转在的价格对应转换成股票后的价值处在一个溢价的状态</p><ul><li>强赎条款</li><li>回购条款</li></ul><p>杠杆</p><p>盘前、盘后交易</p><p>收盘价</p><p>撮合价</p><p>空利率，以及可做空数（这是一个很好参看市场做空情绪的指标），新手一定要清楚，做多的利率是固定的，而做空利率是浮动的，一般3.6%-56%都有</p><p>小散户适合什么方法：短期+中期的策略，换句话说，你看准了一支股票可以耐心的等1-2个月，如果你真心长期看好，就买了别天天看，第二年再看，或者你设定好在某个高位卖掉，否则你必输无疑。</p><p>亏损的经验：</p><p>Apple：iPhone 8 发布会那天晚上最高买入，结果被套，持续加仓，持续下跌，从163美金到151.5美金，看着iPhone8销量不济的趋势，割肉了，亏6000美金；</p><p>寺库：刚上市就跌破发行价从13到10元，以为是抄底，没想到过两天跌到8块多，还有继续下跌趋势，实在受不了，割肉，亏2400美金其他：还亏了一些不熟悉的美股，猫途鹰、CVS之类的，反正跌了也不了解其基本面，也不懂啥原因，还要看英文的新闻才知道发生了啥事，累计亏损：3000美金</p><p>盈利的经验：</p><p>趣店：我打趣的跟朋友说，这个可以说是中国股民最爱的股票，只要做空的矜持的住的，至今无亏损案例！从他上市第一天我就开始做空，反复做空，累计盈利：13000美金+网易、阿里：长线看好，所以不怕，感觉低位就入手，高位就抛售，游击战罢了，简简单单，被套也不担心，只要牛市还在，你就不输；累计盈利5000美金</p><h2 id="By-Cody-知乎-https-www-zhihu-com-question-20482563-answer-133760429"><a href="#By-Cody-知乎-https-www-zhihu-com-question-20482563-answer-133760429" class="headerlink" title="By Cody 知乎  https://www.zhihu.com/question/20482563/answer/133760429"></a>By Cody 知乎  <a href="https://www.zhihu.com/question/20482563/answer/133760429" target="_blank" rel="noopener">https://www.zhihu.com/question/20482563/answer/133760429</a></h2><p>个人投资者如果要入门美股，大概可以分为三个阶段。</p><h3 id="一、「入门篇」1-投资美股，首先需要了解的是，美股市场与A股市场，在市场机制上的不同。美股是世界上最成熟的资本市场，从规则上来说，可以T-0交易，没有10-的涨跌停限制，可以做多以及做空，大部分个股都有期权交易，是一个相当自由的市场。不过，自由的另一面也意味着很多在A股市场存在的现象，在美股没有。比如，壳资源几乎没有价值，公司是会退市的。打新股没有稳定的超额收益，新股是会破发的。脱离基本面的妖股很快会受到市场纠正，因为美股是能做空的。所以，A股投资者，投资美股，要了解美股的做空机制，尽量远离妖股。没有涨跌停的限制，该有什么样的止损意识。还有什么样的飞刀可以接，什么样的飞刀不能接。美国证监会对上市公司采用宽近严出的作风，将公司经营的鉴别交给投资者，对市场舞弊，数据作假、内幕交易采取强力的惩罚措施。所以，从这一点上来说，与国内证监会刻意保护中小投资者的态度有所不同。2-要清楚一些美股市场和券商的基本情况。美股的开盘时间，分为夏令和冬令两个时节，9-30-4-00或者10-30-5-00，中间不像A股，没有午休时间。同时美股盘前和盘后，都有大概4个小时的非常规交易时段，可以交易大部分流动性较好，以及券商支持的股票（期权不行）。非常规交易时段对于美股交易非常重要，一来因为很多公司会在盘前盘后发布季报，二来一些重大事件可以在非常规时段对市场产生影响。一个好的券商，可以尽量多的支持非常规时段交易的品种，同时在做空上面也更容易借到股票。所以选好一个券商也很重要。就国内做美股来说，算是灰色地带，因为目前中国还没有做国外股票市场经纪业务的具体规定，所以很多国际券商，不能在中国从事经纪业务。他们多数采取与国内互联网金融公司合作的形式，底层使用他们的中后台，表层这些互联网金融公司自己设计交互方式（也就是下单软件一类），至于开户都属于UNSOLICATED-CASE。比较知名的IB、嘉维证券、socttrade等，都有和国内的这些互联网金融公司服务，但是就像这些互联网公司提供了翻译、资讯、软件服务一样，佣金也要加收一层，对于中低频交易者来说，相差也不是很大，但在用户体验方面改进却不小。另外一方面，就安全性来说，所有美国知名的券商，都必须要在SIPC-（投资者保护公司），强制投保，最多保障金额50万美金，其中现金占25万。所以，在这个额度内，券商破产的风险几乎不会影响到本金安全。3-要会查询美股的相关资料，如果英文阅读能力强，特别是又懂财务的同学，而且还喜欢投资或者交易的同学。我是建议直接上-SEC-gov-Company-Search-Page-查询公司资料，10K、10Q、424B、13F分别代表什么意思-GOOGLE-一下，如果英文一般般的，也可以多关注新浪美股、雪球这类财经新闻，有很多热心的网友有写很多行业、公司相关的新闻。我自己和朋友有收集一些美股相关的网站-美股维基百科-，里面有我-呕-xian-心-de-沥-wu-血-liao-收集的各类美股信息网站，讲真，就静态信息而言，我感觉自己都仿佛能用四五个网站拼出一个-bloomberg，也有人表示从这个网站里面学到很多东西，我还感觉蛮开心的。这里我推荐几个比较好用的网站吧，a-第一个是-Stock-Market-Insights-Seeking-Alpha-seeking-alpha-最强大的两点，一点是可以读每个季度的电话会议稿，这对你了解公司战略，市场concensus，非常重要。第二点是，可以看他的news，分析个股在每个阶段变化的主要矛盾。b-第二个是FINVIZ-com-Stock-Screener-finviz-估计是美股最强大免费筛选软件，而付费版的精度更细，更好的是他的主页有很多市场统计数据，普通投资者，每天观察下，可以总揽市场走势，有cover的行业或者公司出现变动，可以去考究下背后变动的原因。c-第三个，主要是纯粹为了小白投资服务的两个简单估值软件，一个是https-simplywall-st-NasdaqGS-NVDA-nvidia-close-一个是Discounted-Cash-Flow-Calculator-for-Stock-Valuation这两个网站，分别从multiple-和-DCF-的角度去简单对个股进行估值，如果你不懂估值，可以在网上花几个小时看看简单了解下，以后如果要做个股估值，可以用这两个网站节约不少时间。这个东西的好处是，能够将你的目标公司价格，进行进一步的精确化，这样如果你手上有对行业的洞见或者公司洞见的-alpha，那么这个可以东西弥补一部分金融知识上的缺失。专业一点地话，很多免费的财经网站，yahoo-finance-morning-star-marketwathing都可以找到各样的财务数据，自己做做财务预测也可以。还有些别的网站，查寻其他数据就不一一介绍了，有兴趣可以多逛逛那个美股维基百科那个网站。二、「进阶篇」这部分主要简单讲讲自己对美股市场的感性和理性的认识，大部分来自于长期的市场观察，和一些自己的投资理念。个人做了几年美股，总体来说，美股是一个半强有效的市场，与A股的最大区别在于，虽然他们的流动性都很强。但是美股对公司故事变现时长的容忍度很低，也就是说市场自身的纠错机制非常健全，比如GOPRO的视频社交、REWALK的外骨骼、3D打印行业的C端应用市场。这些故事在初期都能获得极好的估值和溢价，但是一般在2-3个季度内，都不能实质性的增收或者增利表现的话，市场真是分分钟就翻脸，估值和逻辑一起杀，一天暴跌30-，一点都不奇怪。要辨别这些故事，最重要的还是依赖于常识，想清楚究竟应该怎么挣钱，这点很重要。另外一个体现有效市场的地方在于，美股的定价机制在某些方面还是很理智的，对于大多数公司来说，除非有极端的整体偏见，市场可能会会犯错，大部分情况市场都是“正确”的，这也是为什么我更倾向于做，至少在月线级别是多头排列的公司。这算是动能策略的一种，配合估值能够在一定程度保证自己尽量不犯错，有一定的安全边际。而如果你做空头排列的公司，尤其是月线级别的，你要有十足的把握，你的超额收益究竟来源于哪里，是市场不知道，还是你知道市场不知道，还是市场和你都不知道？我见过的大多数喜欢接美股飞刀的人，经常都搞的满身鲜血，很多时候这种公司会爆出进一步恶化的黑天鹅事件。到时候清仓还是持仓都很被动。通过分批买进的，摊低成本的前提是，公司真的具有安全边际，无论是估值上，还是业务逻辑上。美股另外还有个有意思的地方在于，他的投资工具非常丰富，不同品种、不同地域、不同逻辑的ETF都有，最近看有基金准备发一个跟比特币相关的ETF，还蛮有意思的。其他的还有期权、reits等等。有个网站叫-ETFdatebase，可以试试看。这种丰富成熟的市场，让各种天马行空的策略都可以尝试，尤其是在对冲方面。举个简单的例子，之前川普大选，其实从对冲策略上来讲，可以分为三种，第一种是方向性的对冲，最直接的就是做空大盘指数，通过ETF或者期权。大部分可以预见的所谓尾部风险，都可以通过期权的形式，低成本对冲掉。不可预知的，也能用相关ETF品种，长期COVER-敞口大小。不过期权对冲要注意盘前后不能交易，这点比较蛋疼。第二个是资产平衡的方式，美股是个长期走牛的市场，企业的-top-line和button-line决定了长期估值中枢，很多时候，保持更多的现金仓位，本身就是极好的对冲方式。市场恐慌的时候，才有机会用便宜的价格买入好的公司。当然更激进一点的话，可以采取配置部分避险资产去对冲掉一些波动率，甚至还有机会瞎蒙到alpha。第三个是内涵逻辑上的对冲，这个就是研究事件发生后的后续变化，然后布置相关标的，以川普为例，如果川普当选，必然利好军工、能源、金融，这个时候布置军工、能源、金融龙头，即便川普没有当选，那么他的下跌空间也很有限，甚至有可能随着大盘继续涨。但是如果川普当选了，就能得到一波超额收益。同样的道理也适用于做空墨西哥ETF等等。至于期权方面，个人是越用越趋于简单，最喜欢的sell-call其实是个不错的策略，最简单好用，虽然有时候会卖飞，但是可以到期roll-over，我曾经就经历过一个本来一天内到期的盈利sell-call，被活生生的拉到了亏损区间，一怒之下，roll-over了个深度价内期权，结果躲过了一波大跌。SELL-CALL-印象中也是少数几个被养老型共同基金允许的期权策略。唔，零零碎碎的大概想起来一些东西，总之，美股投资最重要的还是了解公司，美股的科技行业经常出现-Game-Changer-的公司，遇到这种好公司只有一句话：好股要握紧。（所以，我今年最大的错误就是卖飞了英伟达，而我在漫长的回调等待中，一等再等，最终决定放弃。人真的很难说服自己认识到自己的错误。T-gt-T-三、「高手篇」－-－0其实我也只是个弱鸡啦这个坑，以后有机会再来填吧。嘤嘤嘤（捂脸逃走－分割线—PS-以上内容主要针对想“入门”美股的，对追求alpha有天然乐趣的投资者。不完全针对想要分享美股市场红利的投资者，这类型的投资者想投海外市场的话，国内有很多QDII基金可以投，或者也可以定投标普500这类的大盘ETF，或者指数增强型组合，类似于smartbeta（国内有些智能投顾公司有尝试做）等等"><a href="#一、「入门篇」1-投资美股，首先需要了解的是，美股市场与A股市场，在市场机制上的不同。美股是世界上最成熟的资本市场，从规则上来说，可以T-0交易，没有10-的涨跌停限制，可以做多以及做空，大部分个股都有期权交易，是一个相当自由的市场。不过，自由的另一面也意味着很多在A股市场存在的现象，在美股没有。比如，壳资源几乎没有价值，公司是会退市的。打新股没有稳定的超额收益，新股是会破发的。脱离基本面的妖股很快会受到市场纠正，因为美股是能做空的。所以，A股投资者，投资美股，要了解美股的做空机制，尽量远离妖股。没有涨跌停的限制，该有什么样的止损意识。还有什么样的飞刀可以接，什么样的飞刀不能接。美国证监会对上市公司采用宽近严出的作风，将公司经营的鉴别交给投资者，对市场舞弊，数据作假、内幕交易采取强力的惩罚措施。所以，从这一点上来说，与国内证监会刻意保护中小投资者的态度有所不同。2-要清楚一些美股市场和券商的基本情况。美股的开盘时间，分为夏令和冬令两个时节，9-30-4-00或者10-30-5-00，中间不像A股，没有午休时间。同时美股盘前和盘后，都有大概4个小时的非常规交易时段，可以交易大部分流动性较好，以及券商支持的股票（期权不行）。非常规交易时段对于美股交易非常重要，一来因为很多公司会在盘前盘后发布季报，二来一些重大事件可以在非常规时段对市场产生影响。一个好的券商，可以尽量多的支持非常规时段交易的品种，同时在做空上面也更容易借到股票。所以选好一个券商也很重要。就国内做美股来说，算是灰色地带，因为目前中国还没有做国外股票市场经纪业务的具体规定，所以很多国际券商，不能在中国从事经纪业务。他们多数采取与国内互联网金融公司合作的形式，底层使用他们的中后台，表层这些互联网金融公司自己设计交互方式（也就是下单软件一类），至于开户都属于UNSOLICATED-CASE。比较知名的IB、嘉维证券、socttrade等，都有和国内的这些互联网金融公司服务，但是就像这些互联网公司提供了翻译、资讯、软件服务一样，佣金也要加收一层，对于中低频交易者来说，相差也不是很大，但在用户体验方面改进却不小。另外一方面，就安全性来说，所有美国知名的券商，都必须要在SIPC-（投资者保护公司），强制投保，最多保障金额50万美金，其中现金占25万。所以，在这个额度内，券商破产的风险几乎不会影响到本金安全。3-要会查询美股的相关资料，如果英文阅读能力强，特别是又懂财务的同学，而且还喜欢投资或者交易的同学。我是建议直接上-SEC-gov-Company-Search-Page-查询公司资料，10K、10Q、424B、13F分别代表什么意思-GOOGLE-一下，如果英文一般般的，也可以多关注新浪美股、雪球这类财经新闻，有很多热心的网友有写很多行业、公司相关的新闻。我自己和朋友有收集一些美股相关的网站-美股维基百科-，里面有我-呕-xian-心-de-沥-wu-血-liao-收集的各类美股信息网站，讲真，就静态信息而言，我感觉自己都仿佛能用四五个网站拼出一个-bloomberg，也有人表示从这个网站里面学到很多东西，我还感觉蛮开心的。这里我推荐几个比较好用的网站吧，a-第一个是-Stock-Market-Insights-Seeking-Alpha-seeking-alpha-最强大的两点，一点是可以读每个季度的电话会议稿，这对你了解公司战略，市场concensus，非常重要。第二点是，可以看他的news，分析个股在每个阶段变化的主要矛盾。b-第二个是FINVIZ-com-Stock-Screener-finviz-估计是美股最强大免费筛选软件，而付费版的精度更细，更好的是他的主页有很多市场统计数据，普通投资者，每天观察下，可以总揽市场走势，有cover的行业或者公司出现变动，可以去考究下背后变动的原因。c-第三个，主要是纯粹为了小白投资服务的两个简单估值软件，一个是https-simplywall-st-NasdaqGS-NVDA-nvidia-close-一个是Discounted-Cash-Flow-Calculator-for-Stock-Valuation这两个网站，分别从multiple-和-DCF-的角度去简单对个股进行估值，如果你不懂估值，可以在网上花几个小时看看简单了解下，以后如果要做个股估值，可以用这两个网站节约不少时间。这个东西的好处是，能够将你的目标公司价格，进行进一步的精确化，这样如果你手上有对行业的洞见或者公司洞见的-alpha，那么这个可以东西弥补一部分金融知识上的缺失。专业一点地话，很多免费的财经网站，yahoo-finance-morning-star-marketwathing都可以找到各样的财务数据，自己做做财务预测也可以。还有些别的网站，查寻其他数据就不一一介绍了，有兴趣可以多逛逛那个美股维基百科那个网站。二、「进阶篇」这部分主要简单讲讲自己对美股市场的感性和理性的认识，大部分来自于长期的市场观察，和一些自己的投资理念。个人做了几年美股，总体来说，美股是一个半强有效的市场，与A股的最大区别在于，虽然他们的流动性都很强。但是美股对公司故事变现时长的容忍度很低，也就是说市场自身的纠错机制非常健全，比如GOPRO的视频社交、REWALK的外骨骼、3D打印行业的C端应用市场。这些故事在初期都能获得极好的估值和溢价，但是一般在2-3个季度内，都不能实质性的增收或者增利表现的话，市场真是分分钟就翻脸，估值和逻辑一起杀，一天暴跌30-，一点都不奇怪。要辨别这些故事，最重要的还是依赖于常识，想清楚究竟应该怎么挣钱，这点很重要。另外一个体现有效市场的地方在于，美股的定价机制在某些方面还是很理智的，对于大多数公司来说，除非有极端的整体偏见，市场可能会会犯错，大部分情况市场都是“正确”的，这也是为什么我更倾向于做，至少在月线级别是多头排列的公司。这算是动能策略的一种，配合估值能够在一定程度保证自己尽量不犯错，有一定的安全边际。而如果你做空头排列的公司，尤其是月线级别的，你要有十足的把握，你的超额收益究竟来源于哪里，是市场不知道，还是你知道市场不知道，还是市场和你都不知道？我见过的大多数喜欢接美股飞刀的人，经常都搞的满身鲜血，很多时候这种公司会爆出进一步恶化的黑天鹅事件。到时候清仓还是持仓都很被动。通过分批买进的，摊低成本的前提是，公司真的具有安全边际，无论是估值上，还是业务逻辑上。美股另外还有个有意思的地方在于，他的投资工具非常丰富，不同品种、不同地域、不同逻辑的ETF都有，最近看有基金准备发一个跟比特币相关的ETF，还蛮有意思的。其他的还有期权、reits等等。有个网站叫-ETFdatebase，可以试试看。这种丰富成熟的市场，让各种天马行空的策略都可以尝试，尤其是在对冲方面。举个简单的例子，之前川普大选，其实从对冲策略上来讲，可以分为三种，第一种是方向性的对冲，最直接的就是做空大盘指数，通过ETF或者期权。大部分可以预见的所谓尾部风险，都可以通过期权的形式，低成本对冲掉。不可预知的，也能用相关ETF品种，长期COVER-敞口大小。不过期权对冲要注意盘前后不能交易，这点比较蛋疼。第二个是资产平衡的方式，美股是个长期走牛的市场，企业的-top-line和button-line决定了长期估值中枢，很多时候，保持更多的现金仓位，本身就是极好的对冲方式。市场恐慌的时候，才有机会用便宜的价格买入好的公司。当然更激进一点的话，可以采取配置部分避险资产去对冲掉一些波动率，甚至还有机会瞎蒙到alpha。第三个是内涵逻辑上的对冲，这个就是研究事件发生后的后续变化，然后布置相关标的，以川普为例，如果川普当选，必然利好军工、能源、金融，这个时候布置军工、能源、金融龙头，即便川普没有当选，那么他的下跌空间也很有限，甚至有可能随着大盘继续涨。但是如果川普当选了，就能得到一波超额收益。同样的道理也适用于做空墨西哥ETF等等。至于期权方面，个人是越用越趋于简单，最喜欢的sell-call其实是个不错的策略，最简单好用，虽然有时候会卖飞，但是可以到期roll-over，我曾经就经历过一个本来一天内到期的盈利sell-call，被活生生的拉到了亏损区间，一怒之下，roll-over了个深度价内期权，结果躲过了一波大跌。SELL-CALL-印象中也是少数几个被养老型共同基金允许的期权策略。唔，零零碎碎的大概想起来一些东西，总之，美股投资最重要的还是了解公司，美股的科技行业经常出现-Game-Changer-的公司，遇到这种好公司只有一句话：好股要握紧。（所以，我今年最大的错误就是卖飞了英伟达，而我在漫长的回调等待中，一等再等，最终决定放弃。人真的很难说服自己认识到自己的错误。T-gt-T-三、「高手篇」－-－0其实我也只是个弱鸡啦这个坑，以后有机会再来填吧。嘤嘤嘤（捂脸逃走－分割线—PS-以上内容主要针对想“入门”美股的，对追求alpha有天然乐趣的投资者。不完全针对想要分享美股市场红利的投资者，这类型的投资者想投海外市场的话，国内有很多QDII基金可以投，或者也可以定投标普500这类的大盘ETF，或者指数增强型组合，类似于smartbeta（国内有些智能投顾公司有尝试做）等等" class="headerlink" title="一、「入门篇」1.投资美股，首先需要了解的是，美股市场与A股市场，在市场机制上的不同。美股是世界上最成熟的资本市场，从规则上来说，可以T+0交易，没有10%的涨跌停限制，可以做多以及做空，大部分个股都有期权交易，是一个相当自由的市场。不过，自由的另一面也意味着很多在A股市场存在的现象，在美股没有。比如，壳资源几乎没有价值，公司是会退市的。打新股没有稳定的超额收益，新股是会破发的。脱离基本面的妖股很快会受到市场纠正，因为美股是能做空的。所以，A股投资者，投资美股，要了解美股的做空机制，尽量远离妖股。没有涨跌停的限制，该有什么样的止损意识。还有什么样的飞刀可以接，什么样的飞刀不能接。美国证监会对上市公司采用宽近严出的作风，将公司经营的鉴别交给投资者，对市场舞弊，数据作假、内幕交易采取强力的惩罚措施。所以，从这一点上来说，与国内证监会刻意保护中小投资者的态度有所不同。2.要清楚一些美股市场和券商的基本情况。美股的开盘时间，分为夏令和冬令两个时节，9.30-4.00或者10.30-5.00，中间不像A股，没有午休时间。同时美股盘前和盘后，都有大概4个小时的非常规交易时段，可以交易大部分流动性较好，以及券商支持的股票（期权不行）。非常规交易时段对于美股交易非常重要，一来因为很多公司会在盘前盘后发布季报，二来一些重大事件可以在非常规时段对市场产生影响。一个好的券商，可以尽量多的支持非常规时段交易的品种，同时在做空上面也更容易借到股票。所以选好一个券商也很重要。就国内做美股来说，算是灰色地带，因为目前中国还没有做国外股票市场经纪业务的具体规定，所以很多国际券商，不能在中国从事经纪业务。他们多数采取与国内互联网金融公司合作的形式，底层使用他们的中后台，表层这些互联网金融公司自己设计交互方式（也就是下单软件一类），至于开户都属于UNSOLICATED CASE。比较知名的IB、嘉维证券、socttrade等，都有和国内的这些互联网金融公司服务，但是就像这些互联网公司提供了翻译、资讯、软件服务一样，佣金也要加收一层，对于中低频交易者来说，相差也不是很大，但在用户体验方面改进却不小。另外一方面，就安全性来说，所有美国知名的券商，都必须要在SIPC （投资者保护公司），强制投保，最多保障金额50万美金，其中现金占25万。所以，在这个额度内，券商破产的风险几乎不会影响到本金安全。3.要会查询美股的相关资料，如果英文阅读能力强，特别是又懂财务的同学，而且还喜欢投资或者交易的同学。我是建议直接上 SEC.gov | Company Search Page 查询公司资料，10K、10Q、424B、13F分别代表什么意思 GOOGLE 一下，如果英文一般般的，也可以多关注新浪美股、雪球这类财经新闻，有很多热心的网友有写很多行业、公司相关的新闻。我自己和朋友有收集一些美股相关的网站 美股维基百科 ，里面有我 呕 (xian) 心 (de) 沥 (wu) 血(liao)收集的各类美股信息网站，讲真，就静态信息而言，我感觉自己都仿佛能用四五个网站拼出一个 bloomberg，也有人表示从这个网站里面学到很多东西，我还感觉蛮开心的。这里我推荐几个比较好用的网站吧，a.第一个是 Stock Market Insights | Seeking Alpha  seeking alpha 最强大的两点，一点是可以读每个季度的电话会议稿，这对你了解公司战略，市场concensus，非常重要。第二点是，可以看他的news，分析个股在每个阶段变化的主要矛盾。b.第二个是FINVIZ.com - Stock Screener finviz 估计是美股最强大免费筛选软件，而付费版的精度更细，更好的是他的主页有很多市场统计数据，普通投资者，每天观察下，可以总揽市场走势，有cover的行业或者公司出现变动，可以去考究下背后变动的原因。c.第三个，主要是纯粹为了小白投资服务的两个简单估值软件，一个是https://simplywall.st/NasdaqGS:NVDA/nvidia#close  一个是Discounted Cash Flow Calculator for Stock Valuation这两个网站，分别从multiple 和 DCF 的角度去简单对个股进行估值，如果你不懂估值，可以在网上花几个小时看看简单了解下，以后如果要做个股估值，可以用这两个网站节约不少时间。这个东西的好处是，能够将你的目标公司价格，进行进一步的精确化，这样如果你手上有对行业的洞见或者公司洞见的 alpha，那么这个可以东西弥补一部分金融知识上的缺失。专业一点地话，很多免费的财经网站，yahoo finance\morning star\marketwathing都可以找到各样的财务数据，自己做做财务预测也可以。还有些别的网站，查寻其他数据就不一一介绍了，有兴趣可以多逛逛那个美股维基百科那个网站。二、「进阶篇」这部分主要简单讲讲自己对美股市场的感性和理性的认识，大部分来自于长期的市场观察，和一些自己的投资理念。个人做了几年美股，总体来说，美股是一个半强有效的市场，与A股的最大区别在于，虽然他们的流动性都很强。但是美股对公司故事变现时长的容忍度很低，也就是说市场自身的纠错机制非常健全，比如GOPRO的视频社交、REWALK的外骨骼、3D打印行业的C端应用市场。这些故事在初期都能获得极好的估值和溢价，但是一般在2-3个季度内，都不能实质性的增收或者增利表现的话，市场真是分分钟就翻脸，估值和逻辑一起杀，一天暴跌30%，一点都不奇怪。要辨别这些故事，最重要的还是依赖于常识，想清楚究竟应该怎么挣钱，这点很重要。另外一个体现有效市场的地方在于，美股的定价机制在某些方面还是很理智的，对于大多数公司来说，除非有极端的整体偏见，市场可能会会犯错，大部分情况市场都是“正确”的，这也是为什么我更倾向于做，至少在月线级别是多头排列的公司。这算是动能策略的一种，配合估值能够在一定程度保证自己尽量不犯错，有一定的安全边际。而如果你做空头排列的公司，尤其是月线级别的，你要有十足的把握，你的超额收益究竟来源于哪里，是市场不知道，还是你知道市场不知道，还是市场和你都不知道？我见过的大多数喜欢接美股飞刀的人，经常都搞的满身鲜血，很多时候这种公司会爆出进一步恶化的黑天鹅事件。到时候清仓还是持仓都很被动。通过分批买进的，摊低成本的前提是，公司真的具有安全边际，无论是估值上，还是业务逻辑上。美股另外还有个有意思的地方在于，他的投资工具非常丰富，不同品种、不同地域、不同逻辑的ETF都有，最近看有基金准备发一个跟比特币相关的ETF，还蛮有意思的。其他的还有期权、reits等等。有个网站叫 ETFdatebase，可以试试看。这种丰富成熟的市场，让各种天马行空的策略都可以尝试，尤其是在对冲方面。举个简单的例子，之前川普大选，其实从对冲策略上来讲，可以分为三种，第一种是方向性的对冲，最直接的就是做空大盘指数，通过ETF或者期权。大部分可以预见的所谓尾部风险，都可以通过期权的形式，低成本对冲掉。不可预知的，也能用相关ETF品种，长期COVER 敞口大小。不过期权对冲要注意盘前后不能交易，这点比较蛋疼。第二个是资产平衡的方式，美股是个长期走牛的市场，企业的 top line和button line决定了长期估值中枢，很多时候，保持更多的现金仓位，本身就是极好的对冲方式。市场恐慌的时候，才有机会用便宜的价格买入好的公司。当然更激进一点的话，可以采取配置部分避险资产去对冲掉一些波动率，甚至还有机会瞎蒙到alpha。第三个是内涵逻辑上的对冲，这个就是研究事件发生后的后续变化，然后布置相关标的，以川普为例，如果川普当选，必然利好军工、能源、金融，这个时候布置军工、能源、金融龙头，即便川普没有当选，那么他的下跌空间也很有限，甚至有可能随着大盘继续涨。但是如果川普当选了，就能得到一波超额收益。同样的道理也适用于做空墨西哥ETF等等。至于期权方面，个人是越用越趋于简单，最喜欢的sell call其实是个不错的策略，最简单好用，虽然有时候会卖飞，但是可以到期roll over，我曾经就经历过一个本来一天内到期的盈利sell call，被活生生的拉到了亏损区间，一怒之下，roll over了个深度价内期权，结果躲过了一波大跌。SELL CALL 印象中也是少数几个被养老型共同基金允许的期权策略。唔，零零碎碎的大概想起来一些东西，总之，美股投资最重要的还是了解公司，美股的科技行业经常出现 Game Changer 的公司，遇到这种好公司只有一句话：好股要握紧。（所以，我今年最大的错误就是卖飞了英伟达，而我在漫长的回调等待中，一等再等，最终决定放弃。人真的很难说服自己认识到自己的错误。T&gt;T ) 三、「高手篇」－ －0其实我也只是个弱鸡啦这个坑，以后有机会再来填吧。嘤嘤嘤（捂脸逃走－分割线—PS.以上内容主要针对想“入门”美股的，对追求alpha有天然乐趣的投资者。不完全针对想要分享美股市场红利的投资者，这类型的投资者想投海外市场的话，国内有很多QDII基金可以投，或者也可以定投标普500这类的大盘ETF，或者指数增强型组合，类似于smartbeta（国内有些智能投顾公司有尝试做）等等"></a>一、「入门篇」<br><br>1.<br>投资美股，首先需要了解的是，美股市场与A股市场，在市场机制上的不同。<br><br>美股是世界上最成熟的资本市场，从规则上来说，可以T+0交易，没有10%的涨跌停限制，可以做多以及做空，大部分个股都有期权交易，是一个相当自由的市场。不过，自由的另一面也意味着很多在A股市场存在的现象，在美股没有。比如，壳资源几乎没有价值，公司是会退市的。打新股没有稳定的超额收益，新股是会破发的。脱离基本面的妖股很快会受到市场纠正，因为美股是能做空的。<br><br>所以，A股投资者，投资美股，要了解美股的做空机制，尽量远离妖股。没有涨跌停的限制，该有什么样的止损意识。还有什么样的飞刀可以接，什么样的飞刀不能接。美国证监会对上市公司采用宽近严出的作风，将公司经营的鉴别交给投资者，对市场舞弊，数据作假、内幕交易采取强力的惩罚措施。所以，从这一点上来说，与国内证监会刻意保护中小投资者的态度有所不同。<br><br>2.<br>要清楚一些美股市场和券商的基本情况。美股的开盘时间，分为夏令和冬令两个时节，9.30-4.00或者10.30-5.00，中间不像A股，没有午休时间。同时美股盘前和盘后，都有大概4个小时的非常规交易时段，可以交易大部分流动性较好，以及券商支持的股票（期权不行）。非常规交易时段对于美股交易非常重要，一来因为很多公司会在盘前盘后发布季报，二来一些重大事件可以在非常规时段对市场产生影响。<br><br>一个好的券商，可以尽量多的支持非常规时段交易的品种，同时在做空上面也更容易借到股票。所以选好一个券商也很重要。就国内做美股来说，算是灰色地带，因为目前中国还没有做国外股票市场经纪业务的具体规定，所以很多国际券商，不能在中国从事经纪业务。他们多数采取与国内互联网金融公司合作的形式，底层使用他们的中后台，表层这些互联网金融公司自己设计交互方式（也就是下单软件一类），至于开户都属于UNSOLICATED CASE。<br><br>比较知名的IB、嘉维证券、socttrade等，都有和国内的这些互联网金融公司服务，但是就像这些互联网公司提供了翻译、资讯、软件服务一样，佣金也要加收一层，对于中低频交易者来说，相差也不是很大，但在用户体验方面改进却不小。另外一方面，就安全性来说，所有美国知名的券商，都必须要在SIPC （投资者保护公司），强制投保，最多保障金额50万美金，其中现金占25万。所以，在这个额度内，券商破产的风险几乎不会影响到本金安全。<br><br>3.<br>要会查询美股的相关资料，如果英文阅读能力强，特别是又懂财务的同学，而且还喜欢投资或者交易的同学。我是建议直接上 <a href="https://link.zhihu.com/?target=https%3A//www.sec.gov/edgar/searchedgar/companysearch.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">SEC.gov | Company Search Page</a> 查询公司资料，10K、10Q、424B、13F分别代表什么意思 GOOGLE 一下，如果英文一般般的，也可以多关注新浪美股、雪球这类财经新闻，有很多热心的网友有写很多行业、公司相关的新闻。<br><br>我自己和朋友有收集一些美股相关的网站 <a href="https://link.zhihu.com/?target=http%3A//www.meiguwiki.com/" class=" wrap external" target="_blank" rel="nofollow noreferrer">美股维基百科</a> ，里面有我 呕 (xian) 心 (de) 沥 (wu) 血(liao)收集的各类美股信息网站，讲真，就静态信息而言，我感觉自己都仿佛能用四五个网站拼出一个 bloomberg，也有人表示从这个网站里面学到很多东西，我还感觉蛮开心的。<br><br>这里我推荐几个比较好用的网站吧，a.第一个是 <a href="https://link.zhihu.com/?target=http%3A//seekingalpha.com/" class=" wrap external" target="_blank" rel="nofollow noreferrer">Stock Market Insights | Seeking Alpha</a>  seeking alpha 最强大的两点，一点是可以读每个季度的电话会议稿，这对你了解公司战略，市场concensus，非常重要。第二点是，可以看他的news，分析个股在每个阶段变化的主要矛盾。<br><br>b.第二个是<a href="https://link.zhihu.com/?target=http%3A//finviz.com/" class=" wrap external" target="_blank" rel="nofollow noreferrer">FINVIZ.com - Stock Screener</a> finviz 估计是美股最强大免费筛选软件，而付费版的精度更细，更好的是他的主页有很多市场统计数据，普通投资者，每天观察下，可以总揽市场走势，有cover的行业或者公司出现变动，可以去考究下背后变动的原因。<br><br>c.第三个，主要是纯粹为了小白投资服务的两个简单估值软件，一个是<a href="https://link.zhihu.com/?target=https%3A//simplywall.st/NasdaqGS%3ANVDA/nvidia%23close" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">simplywall.st/NasdaqGS:</span><span class="invisible">NVDA/nvidia#close</span><span class="ellipsis"></span></a>  一个是<a href="https://link.zhihu.com/?target=http%3A//www.moneychimp.com/articles/valuation/dcf.htm" class=" wrap external" target="_blank" rel="nofollow noreferrer">Discounted Cash Flow Calculator for Stock Valuation</a><br>这两个网站，分别从multiple 和 DCF 的角度去简单对个股进行估值，如果你不懂估值，可以在网上花几个小时看看简单了解下，以后如果要做个股估值，可以用这两个网站节约不少时间。这个东西的好处是，能够将你的目标公司价格，进行进一步的精确化，这样如果你手上有对行业的洞见或者公司洞见的 alpha，那么这个可以东西弥补一部分金融知识上的缺失。专业一点地话，很多免费的财经网站，yahoo finance\morning star\marketwathing都可以找到各样的财务数据，自己做做财务预测也可以。<br><br>还有些别的网站，查寻其他数据就不一一介绍了，有兴趣可以多逛逛那个美股维基百科那个网站。<br><br>二、「进阶篇」<br><br>这部分主要简单讲讲自己对美股市场的感性和理性的认识，大部分来自于长期的市场观察，和一些自己的投资理念。<br><br>个人做了几年美股，总体来说，美股是一个半强有效的市场，与A股的最大区别在于，虽然他们的流动性都很强。但是美股对公司故事变现时长的容忍度很低，也就是说市场自身的纠错机制非常健全，比如GOPRO的视频社交、REWALK的外骨骼、3D打印行业的C端应用市场。这些故事在初期都能获得极好的估值和溢价，但是一般在2-3个季度内，都不能实质性的增收或者增利表现的话，市场真是分分钟就翻脸，估值和逻辑一起杀，一天暴跌30%，一点都不奇怪。要辨别这些故事，最重要的还是依赖于常识，想清楚究竟应该怎么挣钱，这点很重要。<br><br>另外一个体现有效市场的地方在于，美股的定价机制在某些方面还是很理智的，对于大多数公司来说，除非有极端的整体偏见，市场可能会会犯错，大部分情况市场都是“正确”的，这也是为什么我更倾向于做，至少在月线级别是多头排列的公司。这算是动能策略的一种，配合估值能够在一定程度保证自己尽量不犯错，有一定的安全边际。而如果你做空头排列的公司，尤其是月线级别的，你要有十足的把握，你的超额收益究竟来源于哪里，是市场不知道，还是你知道市场不知道，还是市场和你都不知道？我见过的大多数喜欢接美股飞刀的人，经常都搞的满身鲜血，很多时候这种公司会爆出进一步恶化的黑天鹅事件。到时候清仓还是持仓都很被动。通过分批买进的，摊低成本的前提是，公司真的具有安全边际，无论是估值上，还是业务逻辑上。<br><br>美股另外还有个有意思的地方在于，他的投资工具非常丰富，不同品种、不同地域、不同逻辑的ETF都有，最近看有基金准备发一个跟比特币相关的ETF，还蛮有意思的。其他的还有期权、reits等等。有个网站叫 ETFdatebase，可以试试看。<br><br>这种丰富成熟的市场，让各种天马行空的策略都可以尝试，尤其是在对冲方面。举个简单的例子，之前川普大选，其实从对冲策略上来讲，可以分为三种，<br><br>第一种是方向性的对冲，最直接的就是做空大盘指数，通过ETF或者期权。大部分可以预见的所谓尾部风险，都可以通过期权的形式，低成本对冲掉。不可预知的，也能用相关ETF品种，长期COVER 敞口大小。不过期权对冲要注意盘前后不能交易，这点比较蛋疼。<br><br>第二个是资产平衡的方式，美股是个长期走牛的市场，企业的 top line和button line决定了长期估值中枢，很多时候，保持更多的现金仓位，本身就是极好的对冲方式。市场恐慌的时候，才有机会用便宜的价格买入好的公司。当然更激进一点的话，可以采取配置部分避险资产去对冲掉一些波动率，甚至还有机会瞎蒙到alpha。<br><br>第三个是内涵逻辑上的对冲，这个就是研究事件发生后的后续变化，然后布置相关标的，以川普为例，如果川普当选，必然利好军工、能源、金融，这个时候布置军工、能源、金融龙头，即便川普没有当选，那么他的下跌空间也很有限，甚至有可能随着大盘继续涨。但是如果川普当选了，就能得到一波超额收益。同样的道理也适用于做空墨西哥ETF等等。<br><br>至于期权方面，个人是越用越趋于简单，最喜欢的sell call其实是个不错的策略，最简单好用，虽然有时候会卖飞，但是可以到期roll over，我曾经就经历过一个本来一天内到期的盈利sell call，被活生生的拉到了亏损区间，一怒之下，roll over了个深度价内期权，结果躲过了一波大跌。SELL CALL 印象中也是少数几个被养老型共同基金允许的期权策略。<br><br>唔，零零碎碎的大概想起来一些东西，总之，美股投资最重要的还是了解公司，美股的科技行业经常出现 Game Changer 的公司，遇到这种好公司只有一句话：好股要握紧。（所以，我今年最大的错误就是卖飞了英伟达，而我在漫长的回调等待中，一等再等，最终决定放弃。人真的很难说服自己认识到自己的错误。T&gt;T ) <br><br>三、「高手篇」<br><br>－ －0<br><br>其实我也只是个弱鸡啦<br><br>这个坑，以后有机会再来填吧。<br><br>嘤嘤嘤（捂脸逃走<br><br>－分割线—<br><br>PS.以上内容主要针对想“入门”美股的，对追求alpha有天然乐趣的投资者。<br><br>不完全针对想要分享美股市场红利的投资者，这类型的投资者想投海外市场的话，国内有很多QDII基金可以投，或者也可以定投标普500这类的大盘ETF，或者指数增强型组合，类似于smartbeta（国内有些智能投顾公司有尝试做）等等</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;可转债： convertible bond/debenture/note&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;上市公司发行的一种低息债券，在发行的时候，表明了它的利息，期限，支付方式，还同时规定了一个价格。&lt;/li&gt;
&lt;li&gt;转股股价，发行时，确定的转股股价，一般不会改变，但当正股股
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Python 101</title>
    <link href="http://www.yuliang.xyz/2018/08/19/python-101/"/>
    <id>http://www.yuliang.xyz/2018/08/19/python-101/</id>
    <published>2018-08-19T17:18:52.000Z</published>
    <updated>2018-08-19T22:58:16.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Coding-conventions"><a href="#Coding-conventions" class="headerlink" title="Coding conventions"></a>Coding conventions</h2><ul><li>Module/package names:  short, all lowercase, underscores only if needed   e.g. imp, sys</li><li>Function names: all lowercase, underscores_for_readability, e.g. foo(), my_func()</li><li>Variable names: all lowercase, underscores_for_readability, e.g. my_var</li><li>Class names: CapitablizeEachWord, e.g. MyClass</li><li>Constant names: ALL_CAPS_WITH_UNDERSCORES, e.g. PI, TAX_RATE</li><li>Indentation: 4 spaces per level</li><li>Comparisons: Don’t compare explicityly to True of False, e.g. if my_var:  if not my_var:</li></ul><h2 id="Built-in-data-types"><a href="#Built-in-data-types" class="headerlink" title="Built-in data types"></a>Built-in data types</h2><p>Python has a number of build-in data types. Varialbes don’t have to be declared and can have any built-in data type.</p><h3 id="Numbers"><a href="#Numbers" class="headerlink" title="Numbers"></a>Numbers</h3><ul><li>Integers</li></ul><p>arithmetic operators:<br>(+ addition)<br>(- subtraction)<br>(<em> multiplication)<br>(/ division)<br>(// division with trunction)<br>(*</em> exponentiation)<br>(% modulus)</p><ul><li>Floats</li></ul><p>built-in function <strong>round</strong><br>library module <strong>math.ceil</strong></p><ul><li><p>Complex numbers</p></li><li><p>Booleans<br>True and False, when used with numbers, True is 1 and False is 0</p></li></ul><h3 id="Lists-1-2-3-4-or-1"><a href="#Lists-1-2-3-4-or-1" class="headerlink" title="Lists [1, 2, 3, 4] or [1]"></a>Lists [1, 2, 3, 4] or [1]</h3><p>A list can contain a mixture of other types.<br>A list can be indexed from its front or back. You can also refer to a subsegment, or slice, of a list using slice notation</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>built-in functions:  <strong>len</strong>, <strong>max</strong>, <strong>min</strong><br>operators         : <strong>in</strong> <strong>+</strong> <strong>*</strong>  (+ and * create a new list, leaving the original unchanged)<br>statement         : del<br>list methods      : append, count, extend, index, insert, pop, remove, reverse, sort</p><h3 id="Tuples-1-2-3-4-or-1"><a href="#Tuples-1-2-3-4-or-1" class="headerlink" title="Tuples (1, 2, 3, 4) or (1, )"></a>Tuples (1, 2, 3, 4) or (1, )</h3><p>Tuples are similar to lists but are immutable.</p><p>Operators: in, +, *<br>Built-in functions: len, max, min, count, index<br>Index and slice notition also work the same way as they do on lists.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = (1, 2, 3, 4)</span><br><span class="line">x.index(2)</span><br><span class="line">1</span><br><span class="line">x.count(x)</span><br><span class="line">0</span><br><span class="line">x.count(2)</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h4 id="Tuples-lt-gt-Lists"><a href="#Tuples-lt-gt-Lists" class="headerlink" title="Tuples &lt;-&gt; Lists"></a>Tuples &lt;-&gt; Lists</h4><p>tuple(x)<br>list(x)</p><h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><p>Strings are also immutable<br>in + * len max min operate on strings as they do on lists and tuples</p><p>split()<br><strong>re</strong> library module<br>print()</p><h3 id="Dictionaries-1-“one”-2-“two”"><a href="#Dictionaries-1-“one”-2-“two”" class="headerlink" title="Dictionaries {1: “one”, 2: “two”}"></a>Dictionaries {1: “one”, 2: “two”}</h3><p>Dictionary data type  provides associative array functionality implemented using hash tables.</p><p>built-in functions: len, del, clear, copy, get, has_key, items, keys, update and values</p><h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><p>Membership and uniqueness are teh main things you need to know.<br>create a set by using <strong>set</strong> on a sequence, like a list.<br><strong>in</strong> is used to check for membership on an object in a set.</p><h3 id="File-objects"><a href="#File-objects" class="headerlink" title="File objects"></a>File objects</h3><ul><li>read/write</li><li>chdir</li></ul><h2 id="Control-flow"><a href="#Control-flow" class="headerlink" title="Control flow"></a>Control flow</h2><h3 id="Boolean-values-and-expressions"><a href="#Boolean-values-and-expressions" class="headerlink" title="Boolean values and expressions"></a>Boolean values and expressions</h3><ul><li>Boolean constant <strong>False</strong>, <strong>0</strong></li><li>Python nil value <strong>None</strong></li><li>empty values, like empty list [ ] or empty string “” are False</li><li>Boolean constant True and everything else are considered <strong>True</strong></li></ul><h3 id="The-if-elif-else"><a href="#The-if-elif-else" class="headerlink" title="The if-elif-else"></a>The if-elif-else</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">x = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x &lt; <span class="number">5</span>:</span><br><span class="line">y = <span class="number">-1</span></span><br><span class="line">x = <span class="number">5</span></span><br><span class="line"><span class="keyword">elif</span> x &gt; <span class="number">5</span>:</span><br><span class="line">y = <span class="number">1</span></span><br><span class="line">z = <span class="number">11</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">y = <span class="number">0</span></span><br><span class="line">z = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">print(x, y, z)</span><br></pre></td></tr></table></figure><h3 id="The-while-loop"><a href="#The-while-loop" class="headerlink" title="The while loop"></a>The while loop</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">u, v, x, y = <span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> x &gt; y:</span><br><span class="line">u = u + y</span><br><span class="line">x = x - y</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x &lt; y + <span class="number">2</span>:</span><br><span class="line">v = v + x</span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">v = v + y + <span class="number">2</span></span><br><span class="line">x = x - y <span class="number">-2</span></span><br><span class="line"></span><br><span class="line">print(u, v)</span><br></pre></td></tr></table></figure><h3 id="The-for-loop"><a href="#The-for-loop" class="headerlink" title="The for loop"></a>The for loop</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">item_list = [<span class="number">3</span>, <span class="string">"string1"</span>, <span class="number">23</span>, <span class="number">14.0</span>, <span class="string">"string2"</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">70</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> item_list:</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> isinstance(x, int):</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> x % <span class="number">7</span>:</span><br><span class="line">print(<span class="string">"found an integer divisible by sever: %d"</span> % x)</span><br><span class="line"><span class="keyword">break</span></span><br></pre></td></tr></table></figure><h2 id="Function-definition"><a href="#Function-definition" class="headerlink" title="Function definition"></a>Function definition</h2><p>return statement:<br>If no returen statement is encountered, Python’s None value is returned</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funct1</span><span class="params">(x, y, z)</span>:</span></span><br><span class="line">value = x + <span class="number">2</span>*y + z**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> value &gt; <span class="number">0</span>:</span><br><span class="line"><span class="keyword">return</span> x</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">funct1(<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">others:</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funct2</span><span class="params">(x, y=<span class="number">1</span>, z=<span class="number">1</span>)</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funct3</span><span class="params">(x, y=<span class="number">1</span>, z=<span class="number">1</span>, *tup)</span></span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">funct4</span><span class="params">(x, y=<span class="number">1</span>, z=<span class="number">1</span>, **dictionary)</span></span></span><br></pre></td></tr></table></figure><h2 id="Exceptions"><a href="#Exceptions" class="headerlink" title="Exceptions"></a>Exceptions</h2><p><strong>try-except-finally-else</strong> compound statement</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> filename:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">f = open(file, <span class="string">'r'</span>)</span><br><span class="line">line = f.readline()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> line == <span class="string">""</span>:</span><br><span class="line">f.close()</span><br><span class="line"><span class="keyword">raise</span> EmptyFileError(<span class="string">"%s: is empty"</span> % file)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> IOError <span class="keyword">as</span> error:</span><br><span class="line">print(<span class="string">"%s: could not be opened; %s"</span> % (file, error.strerror))</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> EmptyFileError <span class="keyword">as</span> error:</span><br><span class="line">print(error)</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">print(<span class="string">"%s: %s"</span> % (file, f.readline()))</span><br><span class="line"></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">print(<span class="string">"Done processing"</span>, file)</span><br></pre></td></tr></table></figure><h2 id="Module-creation"><a href="#Module-creation" class="headerlink" title="Module creation"></a>Module creation</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># File wo.py</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">words_occur</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"some thing"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># This allows the program to also be run as a script by typing python wo.py at a command line</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">words_occur()</span><br></pre></td></tr></table></figure><h2 id="Object-oriented-programming"><a href="#Object-oriented-programming" class="headerlink" title="Object-oriented programming"></a>Object-oriented programming</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># File sh.py</span></span><br><span class="line"></span><br><span class="line"><span class="string">""" sh module. Contains classes Shape, Square ans Circle"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span>:</span></span><br><span class="line">    <span class="string">""" Shape class: has method move """</span></span><br><span class="line">    <span class="comment"># instance variables x and y are created and initialized in __init__</span></span><br><span class="line">    <span class="comment"># first argument is always self</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">    self.x = x</span><br><span class="line">    self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self, deltaX, deltaY)</span>:</span></span><br><span class="line">    self.x = self.x + deltaX</span><br><span class="line">    self.y = self.y + deltaY</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span><span class="params">(Shape)</span>:</span></span><br><span class="line">    <span class="string">""" Square class: inherits from Shape"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init</span><span class="params">(self, side = <span class="number">1</span>, x = <span class="number">0</span>, y = <span class="number">0</span>)</span>:</span></span><br><span class="line">    Shape.__init(self, x, y)</span><br><span class="line">    self.side = side</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span><span class="params">(Shape)</span>:</span></span><br><span class="line">    <span class="string">""" Circle class: inherits from Shap and has method area """</span></span><br><span class="line">    pi = <span class="number">3.14159</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, r=<span class="number">1</span>, x=<span class="number">0</span>, y=<span class="number">0</span>)</span>:</span></span><br><span class="line">    Shape.__init__(self, x, y)</span><br><span class="line">    self.radius = r</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">area</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">""" Circle area method: returns the area of the circle. """</span></span><br><span class="line">    <span class="keyword">return</span> self.radius * self.radius * self.pi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># __str__ is used by the print function</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Circle of radius %s at coordinates (%d, %d) "</span>\</span><br><span class="line">        % (self.radius, self.x, self.y)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Coding-conventions&quot;&gt;&lt;a href=&quot;#Coding-conventions&quot; class=&quot;headerlink&quot; title=&quot;Coding conventions&quot;&gt;&lt;/a&gt;Coding conventions&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>A simple German Grammar Handbook</title>
    <link href="http://www.yuliang.xyz/2018/08/18/learning-german/"/>
    <id>http://www.yuliang.xyz/2018/08/18/learning-german/</id>
    <published>2018-08-18T17:59:26.000Z</published>
    <updated>2019-03-07T01:01:34.087Z</updated>
    
    <content type="html"><![CDATA[<p>schwach v.s. stark verb</p><p><a href="https://www.zhihu.com/question/21701216" target="_blank" rel="noopener">https://www.zhihu.com/question/21701216</a></p><h1 id="德语时态"><a href="#德语时态" class="headerlink" title="德语时态"></a>德语时态</h1><p>##现在时##</p><p>表示过去发生的事情，书面语和口语</p><h2 id="简单过去时"><a href="#简单过去时" class="headerlink" title="简单过去时"></a>简单过去时</h2><p>simple past tense,</p><ul><li>gestern</li><li>vorgestern</li></ul><p>动词词干 + 人称结尾<br>haben, sein, sagen, konnen, kommen, geben</p><h3 id="haben-sein-的过去时表达口语花的过去时态"><a href="#haben-sein-的过去时表达口语花的过去时态" class="headerlink" title="haben/sein 的过去时表达口语花的过去时态"></a>haben/sein 的过去时表达口语花的过去时态</h3><p><strong>sein</strong></p><p>ich war,   du warst,  er/es/sie war<br>wir waren, ihr wart,  sie waren</p><p><strong>haven</strong></p><p>ich hatte,  du hattest, er/es/sie hatte<br>wir haben,  ihr hattet, er/es/sie haben</p><h2 id="现在完成时"><a href="#现在完成时" class="headerlink" title="现在完成时"></a>现在完成时</h2><p>present perfect tense, 表示过去发生的事情</p><ul><li>haben + 过去分词（动词的第二分词）</li></ul><ul><li>sein + 过去分词（动词的第二分词）表示运动和方向</li></ul><p>sein  (ab/weg)fahren<br>sein  aufstehen<br>sein  (an/mit)kommen<br>sein  (aus/ein)steigen<br>sein  (weg)gehen<br>sein  (weg/mit)laufen<br>sein  (ab)fliegen<br>sein  bleiben<br>sein  passieren</p><h2 id="过去完成时"><a href="#过去完成时" class="headerlink" title="过去完成时"></a>过去完成时</h2><h2 id="第一将来时"><a href="#第一将来时" class="headerlink" title="第一将来时"></a>第一将来时</h2><h2 id="第二将来时"><a href="#第二将来时" class="headerlink" title="第二将来时"></a>第二将来时</h2><h1 id="Expressiong-Comaprisons"><a href="#Expressiong-Comaprisons" class="headerlink" title="Expressiong Comaprisons:"></a>Expressiong Comaprisons:</h1><p>Adjectives and adverbs have three form: </p><pre><code>1. the basic form (die Grundform)2. the comparative (der Komparativ)3. the superlative (der Superlativ)</code></pre><h2 id="Der-Komparativ"><a href="#Der-Komparativ" class="headerlink" title="Der Komparativ:"></a>Der Komparativ:</h2><pre><code>Adding -er to the basic form of the adjective or adverb.</code></pre><p>Note:</p><ul><li><p>Most adjectives of one syllable with the vowel a, o, u have a umlaut in the comparative.</p><p>  groß –&gt; größer<br>  oft  –&gt; öfter<br>  kurz –&gt; kürzer<br>  warm –&gt; wärmer</p></li><li><p>Some adjectives that end in -er or -el will drop the e before <strong>r</strong> and <strong>l</strong>, then add the -er ending.</p><p>  teuer  –&gt; teurer<br>  dunkel –&gt; dunkler</p></li><li><p>A small number of adjectives and adverbs have irregular forms in the comparative.</p><p>  gern –&gt; lieber<br>  e.g. Ich reite gern, aber ich wandere lieber.</p><p>  gut  –&gt; besser<br>  e.g. Gestern war das Wetter gut, aber heute ist es noch besser.</p><p>  hoch –&gt; höher<br>  e.g. </p><p>  viel –&gt; mehr<br>  e.g. Im Sommer regnet es hier nicht viel, im Winter regnet es mehr.</p></li><li><p>The adverb <strong>immer</strong> is used with a <strong>comparative</strong> form to express the notion of “more and more”.<br>  e.g. Das Wetter wird immer besser.<br>  e.g. Die Sommerabende werden immer angenehmer.</p></li><li><p>The conjunction als (than) links the two parts of a comparison.<br>  e.g.<br>  Das Wetter ist besser im Süden asl im Norden.</p></li></ul><p>The particle <strong>noch</strong> (even) intensifies a comparative.<br>    e.g. Morgen wird es <strong>noch</strong> wärmer.</p><h2 id="Der-Superlativ"><a href="#Der-Superlativ" class="headerlink" title="Der Superlativ:"></a>Der Superlativ:</h2><p>The form of superlative is <strong>am … -sten.</strong></p><p>bequem     –&gt; am bequemsten<br>freundlich –&gt; am freundlichsten<br>schnell    –&gt; am schnellsten</p><p>Note:</p><ul><li><p>Most adjectives of one syllable with the vowel a, o or u in the stem add an umlaut in the superlative.<br>hoch  –&gt; am höchsten<br>lang  –&gt; am längsten</p></li><li><p>Adjectives ending in -s, -ß, -z or -t add -esten to the basic form.<br>heiß  –&gt; am heißesten<br>kurz  –&gt; am kürzesten</p></li><li><p>Some common irregular forms:<br>gern –&gt; am liebsten<br>groß –&gt; am größten<br>gut  –&gt; am besten<br>viel –&gt; am meisten</p></li></ul><h1 id="Expressing-Equality"><a href="#Expressing-Equality" class="headerlink" title="Expressing Equality"></a>Expressing Equality</h1><p>Use <strong>so … wie</strong> (as … as) to express equality.<br>Use <strong>nicht so … wie</strong> to express inequality.<br>e.g.</p><p>Das Wetter im Norden ist so schlecht wie im Süden.<br>Im Süden regent es nicht so viel wie im Norden.</p><p>Use <strong>genauso</strong> (just/exactly as) can repalce so to empphasize the point being made.<br>e.g.<br>Österreich ist genauso schön wie die schweiz.</p><h1 id="并列复合句-Konjunktionen-并列连词"><a href="#并列复合句-Konjunktionen-并列连词" class="headerlink" title="并列复合句 Konjunktionen (并列连词)"></a>并列复合句 Konjunktionen (并列连词)</h1><p>– 不影响每个句子的词序，每个句子可以有独立的词序</p><ul><li><p>und<br>Erst muss ich heute arbeiten, und dann gehe ich Tennis spielen.</p></li><li><p>oder<br>Willst du mit zum Sportplatz, oder willst du zu Hause bleiben?</p></li><li><p>aber<br>Ich möchte gern Tennis spielen, aber ich muss leider arbeiten.</p></li><li><p>sondern<br>Ich bleibe nicht zu Hause, sondern ich gehe zum Sportplatz.</p></li></ul><p><strong>aber v.s. sondern</strong><br>如果 nicht 或则 kein 在第一个句子中，而且两个句子中的意思完全相反，则需要用sondern</p><ul><li>denn<br>Ich möchte zum Sportplatz, denn da gibt es ein Fußballspiel.</li></ul><p>erst   :  At first<br>leider :  unfortunately</p><h1 id="从句-Subjunktionen-从属连词"><a href="#从句-Subjunktionen-从属连词" class="headerlink" title="从句 Subjunktionen (从属连词)"></a>从句 Subjunktionen (从属连词)</h1><p>– 连接一个 main clause and dependent clause.<br>– 逗号用来分来主句和从句<br>– Conjugated verb 永远放在从句的最后面，包括 separable-prefix verb</p><ul><li><p>dass : that<br>Ich  hoffe, dass du bald gesund wirst.<br>Er hat gesagt, dass er zu Hause bleiben muss.<br>Ich bin sicher, dass er mitkommt. </p></li><li><p>ob : whether, if<br>Weißt du, ob Mark krank ist?<br>Ich weiß nicht, ob er schon zum Arzt gegangen ist.<br>Ich möchte wissen, ob er zu einer Party geht.</p></li><li><p>weil : because<br>Mark bleibt zu Hause, weil er eine Erkältung hat.<br>Er bleibt zu Hause, weil er eine Erkältung hat.</p></li><li><p>wenn : whenever, if<br>Ich gehe ins Fitnessstudio, wenn ich Zeit habe.</p></li></ul><p>bald  :  soon<br>– 从句在主句前面，则主句由 conjugated verb 开始，然后接主语，再接其他成分</p><p>Weil Mark krank war, musste er zu Hause bleiben.<br>Wenn wir Zeit haben, gehen wir am Wochenende ins Fitnesscenter.<br>Ob Hans Zeit hat, weiß ich nicht.</p><ul><li>A comma always seperates the main clause from the dependent clause.</li><li>In dependent clauses the conjugated verb is placed at the end.</li><li>If the verb is a separable-prefix verb, the prefix is joined with the rest of the verb.</li><li>If the dependent clause precedes the main clause the main clause begins with the conjugated verb,<br>followed by the subject.</li></ul><p>– 用从句改写直接提问 为间接提问<br>  –&gt; Warum kauft Herr Stierli so viel Vitamin B?<br>  –&gt; Ich weiß nicht, warum Herr Stierli so viel Vitamin B kauft.</p><p>  –&gt; Was hat er vor?<br>  –&gt; Ich möchte wissen, was er vorhat.</p><h2 id="德语关系从句"><a href="#德语关系从句" class="headerlink" title="德语关系从句"></a>德语关系从句</h2><ol><li>关系从句由关系代词引导。关系从句对主句中的名词进行修饰，提供有关名词的更多信息。</li><li>关系代词基本上和定冠词相同</li></ol><h3 id="三种模式"><a href="#三种模式" class="headerlink" title="三种模式"></a>三种模式</h3><ol><li><p>主句 + 主句</p></li><li><p>主句 + 从句</p></li><li><p>关系从句插入主句中</p></li></ol><h3 id="关系代词的-词性-单复数-和-格"><a href="#关系代词的-词性-单复数-和-格" class="headerlink" title="关系代词的 词性 单复数 和 格"></a>关系代词的 词性 单复数 和 格</h3><p>词性和单复数由主句中先行词决定，格由从句中的动词决定</p><h3 id="关系代词和介词连用，介词放在关系代词前面"><a href="#关系代词和介词连用，介词放在关系代词前面" class="headerlink" title="关系代词和介词连用，介词放在关系代词前面"></a>关系代词和介词连用，介词放在关系代词前面</h3><h3 id="关系从句说明整句的时候，关系代词用-was"><a href="#关系从句说明整句的时候，关系代词用-was" class="headerlink" title="关系从句说明整句的时候，关系代词用 was"></a>关系从句说明整句的时候，关系代词用 <strong>was</strong></h3><p>Das ist alles, was ich dazu weiß.</p><h3 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;schwach v.s. stark verb&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/21701216&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.zhihu.com/que
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>How To Test</title>
    <link href="http://www.yuliang.xyz/2018/07/05/how-to-test/"/>
    <id>http://www.yuliang.xyz/2018/07/05/how-to-test/</id>
    <published>2018-07-05T23:56:26.000Z</published>
    <updated>2019-02-03T20:17:37.379Z</updated>
    
    <content type="html"><![CDATA[<p>面试一般分四类：<br>(1) Test a real world object, like a pen<br>(2) Test a peice of software<br>(3) Write test code for a function<br>(4) Troubleshoot an existing issue</p><h2 id="Test-a-real-world-object-like-a-pen"><a href="#Test-a-real-world-object-like-a-pen" class="headerlink" title="Test a real world object (like a pen)"></a>Test a real world object (like a pen)</h2><p><strong>Question: How would you test a paperclip?</strong></p><ul><li><p>Step 1: Who will use it? and why?<br>e.g. by teachers, to hold papers together<br>e.g. by artists, to bend into the shape of animal</p></li><li><p>Step 2: What are the use cases?<br>It will be useful for you to make a list of the use cases.<br>e.g. fastening paper together in a non-damaging (to the paper) way.</p></li><li><p>Step 3: What are the bounds of use?</p></li></ul><p>e.g. holding up to thirty sheets of paper in a single usage without permanent damage (bending) and thirty to fifty sheets with minimal permanent bending.<br>e.g. The bounds also extend to environmental factors, should the paperclip work during very warm temperatures? What about extreme cold?</p><ul><li>Step 4: What are the stress/failures conditions?<br>Analyzing failure conditions needs to be part of your testing. Need to discuss with interviewer about when it’s acceptable or even neccessary for the product to fail, and what failure should mean.</li></ul><p>e.g. testing the laundary machine, might decide the machine should handle at least 30 shirts or pants.<br>loading 30-45 pieces of clothing may result in minor failure, such as the clothing being inadequately cleaned.<br>at more than 45 pieces of clothing, extreme failure might be acceptable. (means the machine never turn on the water, not flood or a fire)</p><ul><li>Step 5: How would you perform the testing?</li></ul><p>e.g. a chair can withstand normal usage for five years, define “normal usage” as how many “sits” per year on the seat? In addition to doing some manual testing, you would likely want a machine to automate some of the usage.</p><h2 id="Test-a-piece-of-software"><a href="#Test-a-piece-of-software" class="headerlink" title="Test a piece of software"></a>Test a piece of software</h2><p><strong>Manual V.S. Automated Testing</strong></p><p>In an ideal world, we might love to automate everything, but that’s rarely feasible. Computer can generally recognize only issues that it’s been told to look for. Human observation may reveal new issues that havn’t been specifically examined.</p><p><strong>Black Box Testing V.S. White Box Testing</strong></p><p>This referes to the degree of access we have into the software.<br>In black box testing, we’re just given the software as-is and need to test it. With white box testing, we have additional programmatic access to test individual functions.</p><ul><li><p>Step 1: Are we doing Black Box Testing or White Box Testing?<br>Check with your interviewer first.</p></li><li><p>Step 2: Who will use it? And why?<br>Software typically has one or more target users, and the features are designed with this in mind.</p></li></ul><p>e.g. parental controls on a web browser, target users include<br>both parents (who are implementing the blocking)<br>and children (who are the recipients of blocking)<br>and guests (who should neither be implementing nor receiving blocking)</p><p><strong>Step3 and Step4</strong> should define the use cases.</p><ul><li>Step 3: What are the user cases?<br>e.g. use cases of the parents include<br>  installing the software<br>  updating controls<br>  removing controls<br>  their own personal internet usage</li></ul><p>need to discuss with your interviewer.</p><ul><li>Step 4: What are the bounds of use?</li></ul><p>figure out what exactly this means.<br>e.g. what does it mean for a website to be blocked?<br>– should just the “illegal” page be blocked<br>– or either the entire website?<br>– is the application supposed to “learn” what is bad content,<br>– or is it based on a white list or black list?<br>– if it is supposed to learn what inappropriate content is, what degree of false positives or false negatives is acceptable?</p><ul><li>Step 5: What are the stress conditions / failure conditions?<br>– when software fails – what should the failure look like ?<br>e.g. it should not crash the computer, instead, it’s likely that the software should just permit a blocked site, or ban an allowable site</li></ul><p><strong>Step 6 define the cases from 3 and 4, like how to perform the testing</strong><br><strong>what exact situations are you testing</strong><br><strong>Which of these steps can be automated?</strong><br><strong>which require human intervention</strong></p><ul><li>Step 6: What are the test cases? How would you perform the testing?<br>pay attention to the manual test or automated testing, black box and white box testing.</li></ul><h2 id="Write-test-code-for-a-function"><a href="#Write-test-code-for-a-function" class="headerlink" title="Write test code for a function"></a>Write test code for a function</h2><ul><li>Validating input and output</li><li><p>Discuss any assumptions with your interviewer, particularly with respect<br>to how to specific situations.</p></li><li><p>拿出一个栗子：<br>Test function sort(int[] array) :</p></li></ul><p>Step 1: Define the test cases</p><ul><li><p>normal cases:<br>due to partitioning, input array might has odd or even numbers</p></li><li><p>extreme cases:<br>empty array, small array, large array</p></li><li><p>nulls and “illegal” input:<br>negative input</p></li><li><p>strange<br>passed an array already sorted<br>array sorted in reversed order</p></li></ul><p>Step 2: Define the expected result</p><ul><li>the right output</li><li>the original array is not changed, if return a copy of the array</li></ul><p>Step 3: Write the test code</p><ul><li>some Junit code</li></ul><h2 id="Troubleshoot-an-existing-issue"><a href="#Troubleshoot-an-existing-issue" class="headerlink" title="Troubleshoot an existing issue"></a>Troubleshoot an existing issue</h2><p>How would you debug or troubleshoot an existing issue.<br>E.g. You are working on the Google Chrome tesam when you receive a bug report:<br>Chrome crashes on lauch. What would you do?</p><p><strong>Approach these questions in a structured manner.</strong></p><p>Step 1: Understand the Scenario<br>Ask questions to understand as much about the situation as possible</p><ul><li>How long has the user been experiencing this issue?</li><li>What version of the browser is it? what is the operating system/</li><li>Does the issue happen consistently, or how often does it happen? When does it happen?</li><li>Is there an error report that launches?</li></ul><p>Step 2: Break down the problem<br>Break down the problem into testable units.</p><ol><li>Go to Windows Start menu</li><li>Click on Chrome icon</li><li>Browser instance starts</li><li>Browser loads settings</li><li>Browser issues HTTP request for homepage</li><li>Browser gets HTTP response</li><li>Browser parses webpage</li><li>Browser displays content</li></ol><p>Step 3: Create specific, Manageable tests<br>Give the customers instructions that they can or will do</p><h2 id="符合要求的QA有下列标准："><a href="#符合要求的QA有下列标准：" class="headerlink" title="符合要求的QA有下列标准："></a>符合要求的QA有下列标准：</h2><p>(show you are a structured, methodical person)<br>Demonstrating these aspects will show that you will be a valuable member of the testing team.</p><ol><li>需要能够提出 a reasonable list of test cases</li><li>需要有一个 Big Picture Understanding</li><li>Understand hwo the pieces fit together</li><li>Organization</li><li>Practicality</li></ol><h3 id="1-Come-up-with-a-reasonable-list-of-test-cases"><a href="#1-Come-up-with-a-reasonable-list-of-test-cases" class="headerlink" title="1.Come up with a reasonable list of test cases"></a>1.Come up with a reasonable list of test cases</h3><h3 id="2-Big-picture-understanding"><a href="#2-Big-picture-understanding" class="headerlink" title="2.Big picture understanding"></a>2.Big picture understanding</h3><ul><li>understand what the software is really about</li><li>prioritize test cases properly</li></ul><p>e.g. At Amazon<br>  payments work reliably<br>  products are added to the sipment queue<br>  customers are never double charged</p><p>are <strong>more important</strong> than </p><p>  product images appear in the right place.<br>  although this is also very important.</p><h3 id="3-Knowing-how-the-pieces-fit-togehter"><a href="#3-Knowing-how-the-pieces-fit-togehter" class="headerlink" title="3.Knowing how the pieces fit togehter"></a>3.Knowing how the pieces fit togehter</h3><ul><li>Do you understand hwo software works</li><li>How it might fit into a greater ecosystem?</li></ul><p>e.g. Test Google Spreedsheets<br>  Besides test opening, saving, and editing documents.</p><p>  you need to test integration with Gmail, with plug-ins<br>  and other components because it is part of a larger<br>  ecosystem.</p><h3 id="4-Organization"><a href="#4-Organization" class="headerlink" title="4.Organization"></a>4.Organization</h3><ul><li>Do you approach the problem in a structured manner? </li><li>Do you just spout off anything that comes to your head?</li></ul><p>e.g. Test the camera<br>    The structured approach will help you to do a more thorough<br>    job creating the test cases.</p><pre><code>Good thinking: break down the parts into categories like Taking Photos, Image Management, Settings, and so on.Bad thinking: when asked to come up with test cases for a camera, will just state anything and everything that comes to their head.</code></pre><h3 id="5-Practicality"><a href="#5-Practicality" class="headerlink" title="5.Practicality"></a>5.Practicality</h3><p>Your testing plans need to be feasible and realistic for a company to implement</p><h2 id="Some-Questions"><a href="#Some-Questions" class="headerlink" title="Some Questions"></a>Some Questions</h2><p>12.1 Find the mistakes in the following code:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">100</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, i);</span><br></pre></td></tr></table></figure></p><p>12.2 You are given the source to an application which crashes when it is run. After running it<br>ten times in a debugger, you find it never crashes in the same place. The application is single<br>threaded, and uses only the C standard library. What programming errors could be causing this crash?<br>How would you test each one?</p><p>12.3 We have the following method used in a chess game:<br>boolean canMoveTo(int x, int y).<br>This method is part of the Piece class and returns whether or not the piece can move to position(x, y).<br>Explain how you would test this method.</p><p>12.4 How would you load test a webpage without using any test tools?</p><p>12.5 How would you test a pen?</p><p>12.6 How would you test an ATM in a distributed banking system?</p><p>&lt;<ibm 从菜鸟到测试架构师="">&gt; 读书笔记</ibm></p><ul><li>构建测试</li><li>安装测试</li><li>单元测试</li><li><p>黑盒测试</p><ul><li>功能模块分解测试</li><li>回归测试</li><li>客户化环境测试</li><li>随机测试</li><li>可访问性测试</li><li>全球化测试</li></ul></li><li><p>白盒测试</p></li><li>性能测试</li><li>迁移测试</li><li>成品测试</li><li>补丁测试</li></ul><ul><li>自动化测试</li><li>敏捷测试</li></ul><p>总结时间都花在哪里， Bug 都出在哪里<br>尽量narrow down 出问题的那一块</p><p><a href="">Cracking the coding interview, chapter 12</a><br><a href="https://www.chiark.greenend.org.uk/~sgtatham/bugs.html" target="_blank" rel="noopener">How to Report Bugs Effecitively</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;面试一般分四类：&lt;br&gt;(1) Test a real world object, like a pen&lt;br&gt;(2) Test a peice of software&lt;br&gt;(3) Write test code for a function&lt;br&gt;(4) Trouble
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Networking TCP/UDP Sockets</title>
    <link href="http://www.yuliang.xyz/2018/06/24/networking-socket/"/>
    <id>http://www.yuliang.xyz/2018/06/24/networking-socket/</id>
    <published>2018-06-24T19:28:11.000Z</published>
    <updated>2018-06-25T00:30:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="TCP-握手机制-–-3次握手"><a href="#TCP-握手机制-–-3次握手" class="headerlink" title="TCP 握手机制 –  3次握手"></a>TCP 握手机制 –  3次握手</h2><ol><li><p>第一次握手，报文1<br>客户端发送一个报文段到到服务器带有SYN标志，将SYN位置设置为1， sequence number 设置为 x， 然后客户端进入 SYN_SEND 状态，等待服务器确认。</p></li><li><p>第二次握手，报文2<br>服务器端收到SYN报文段，对这个SYN报文段进行确认，设置acknowledge number 为 x + 1， 同时自己还要发送一个SYN 请求信息，将SYN位置设置为1， sequence<br>number设置为Y。服务器将这个SYN + ACK报文段一起发送给服务器端，此时服务器进入 SYN_RECV状态。（SYN_RECV状态很短，基本上用netstat很难看到）</p></li><li><p>第三次握手，报文3<br>客户端收到服务器端端SYN+ACK报文段，然后将acknowledge number设置为 y + 1，向服务器发送Ack报文段。之后，服务器端和客户端都进入Established状态。</p></li></ol><h4 id="为什么需要三次握手"><a href="#为什么需要三次握手" class="headerlink" title="为什么需要三次握手"></a>为什么需要三次握手</h4><p>“网络中存在延迟的重复分组”或者“为了防止已尽失效的连接请求报文段”突然又传送到了服务器端，因而产生错误。</p><p><strong>已尽失效的连接请求报文段 产生的情况，以及如果只有2次挥手会有什么后果：</strong></p><p>Client发出的第一个连接请求报文段并没有丢失，而是在某个网络节点长时间滞留了，以至延误到TCP连接释放后的某个时间才到达Server。这个本来是一个失效的报文段，但是server收到后，就误认为是Client再次发出的新的连接请求，于是就向client发出确认报文段，同意建立连接。但是事实上，Client并没有发出新的连接请求，因此不会理睬server的确认报文段，也不会向server发送数据。但是server却认为新的连接已经建立，并一直等待client发来数据，这样，server的很多资源就白白的浪费掉。</p><p>采用三次握手后，Client不会向server发出的这个报文段（含SYN和ACK）发回ACK，Server由于收不到Ack，就知道<br>Client此时并没有发出这个新的要求建立连接的请求，从而防止server端一直等待，浪费资源。</p><h2 id="TCP-握手机制-–-4次挥手"><a href="#TCP-握手机制-–-4次挥手" class="headerlink" title="TCP 握手机制 – 4次挥手"></a>TCP 握手机制 – 4次挥手</h2><ol><li><p>第一次挥手<br>主机1，<br>设置 sequence number和acknowledge number，<br>向主机2发送一个 FIN 报文段，<br>此时，主机1 进入 FIN_WAIT_1 状态，<br>这表示主机1没有数据要发送给主机2</p></li><li><p>第二次挥手<br>主机2，<br>收到主机1发送到 FIN 报文段，<br>向主机1 回一个 ACK 报文段， Acknowledge Number 设置为 Sequence Number 加 1，<br>主机1 进入 FIN_WAIT_2 状态，<br>这表示主机2同意主机1点关闭请求</p></li><li><p>第三次挥手<br>主机2，<br>向主机1 发送 FIN 报文段，请求关闭连接，<br>同时主机2 进入 LAST_ACK 状态。</p></li><li><p>第四次挥手<br>主机1<br>收到主机2发送到 FIN 报文段，<br>向主机2 发送 ACK 报文段，<br>然后主机1 进入 TIME_WAIT状态，<br>主机2 收到 主机1的 ACK报文段后，就关闭连接。<br>此时，主机1 等待 2 MSL后依然没有收到回复，<br>这证明 Server 端正常关闭，则主机1 也可以关闭连接。</p></li></ol><ul><li>MSL: Maximum Segment Lifetime, is the time a TCP segment can exist in the internnet work systems.</li></ul><h4 id="TCP-连接异常终止分析"><a href="#TCP-连接异常终止分析" class="headerlink" title="TCP 连接异常终止分析"></a>TCP 连接异常终止分析</h4><p>有一种能够释放 TCP 连接的机制，是TCP的reset 报文。TCP正常释放连接通过四次挥手完成，下面列出某种异常情况，使得TCP连接释放失败，<br>从而继续占用系统的部分资源。</p><ol><li>客户端尝试与服务器未对外提供服务的端口建立TCP连接，服务器将会直接向客户端发送reset报文</li><li>客户端和服务器的某一方在交互的过程中发生异常（如程序崩溃），该方系统将向对方发送TCP reset报文，告知对方释放相关的TCP连接</li><li>接收端收到TCP报文，但是发现该TCP的报文，并不在其已经建立的TCP连接表里，则直接向对方发送reset报文</li><li>在交互的双方的某一方长期未收到来自对方的确认报文，则其在超出一定的重传次数或者时间后，会主动向对方端口发送reset报文，释放该TCP连接</li><li>有些应用开发者在设计应用系统的时候，会利用reset报文快速释放已经完成的数据交互的TCP连接，以提高业务交互的效率</li></ol><p>Reset报文的利用</p><ol><li>安全设备利用reset报文阻断异常连接</li><li>利用reset报文实施攻击，<tcp会话劫持></tcp会话劫持></li></ol><h2 id="TCP-优化"><a href="#TCP-优化" class="headerlink" title="TCP 优化"></a>TCP 优化</h2><p><a href="https://huoding.com/2013/11/21/299" target="_blank" rel="noopener">High Performance Brower Networking by llya Grigorik</a></p><p>Keywords:<br>Flow Control, Slow Start, BDP ( Bandwidth-delay Product), RWND (Receiver Window)</p><ol><li>Flow Control<br>问题: 传输数据的时候，如果发送方传输的数据量超过了接收方的处理能力，那么接受方会出现丢包。<br>解决方法： 数据传输双方在交互时候声明各自的接受窗口的大小，【rwnd】 用来表示自己最大能够保存多少数据，这主要是针对接受方而言，<br>如果窗口衰减到零，还继续发包，则会发生丢包。</li></ol><ol><li>Slow Start<br>虽然流量控制可以避免发送方过载接受方，却无法避免网络过载。因为接受窗口，只反应了服务器个体的情况，却无法反映网络整体的情况。</li></ol><ul><li><p>拥塞窗口 [cwnd]：用来表示发送方在得到接受方确认前，最大运行传输的未经确认的数据</p></li><li><p>[cwnd] 和 [rwnd] 不同： 发送方的一个内部参数，无需通知接受方。其初始值比较小，然后随着数据包被接受方确认，窗口成倍增大。</p></li></ul><p>在慢启动的过程中，随着[cwnd] 的增加，可能会出现网络过载，其外在表现就是丢包。一旦出现，[cwnd] 的大小会迅速衰减，以便网络能够缓过来。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;TCP-握手机制-–-3次握手&quot;&gt;&lt;a href=&quot;#TCP-握手机制-–-3次握手&quot; class=&quot;headerlink&quot; title=&quot;TCP 握手机制 –  3次握手&quot;&gt;&lt;/a&gt;TCP 握手机制 –  3次握手&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;第一次握手，报
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>C 语言再复习 -- 储存类型关键字</title>
    <link href="http://www.yuliang.xyz/2018/06/23/c-storage-class-keywords/"/>
    <id>http://www.yuliang.xyz/2018/06/23/c-storage-class-keywords/</id>
    <published>2018-06-24T01:09:52.000Z</published>
    <updated>2018-06-24T02:49:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>C 语言有5个存储类说明符的关键字</p><h2 id="auto"><a href="#auto" class="headerlink" title="auto"></a>auto</h2><p>auto 在C语言中只有修饰局部变量这一个作用。表示这个局部变量是自动局部变量，自动局部变量分配在栈上，如果没有<br>初始化，则值是随机的。</p><p>局部变量默认是auto的，可写可不写。但是若省去数据类型，默认是int类型</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testAutoKeyword</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> <span class="keyword">int</span> a = <span class="number">10</span>; <span class="comment">// the same as int a = 10;</span></span><br><span class="line">    <span class="keyword">auto</span> b = <span class="number">9</span>; <span class="comment">// default type is int</span></span><br><span class="line">    <span class="keyword">auto</span> c; <span class="comment">// not initialized , value is random</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"sizeof (b) = %d\n"</span>, <span class="keyword">sizeof</span>(b));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"c = %d\n"</span>, c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="register"><a href="#register" class="headerlink" title="register"></a>register</h2><p>在C语言中register修饰的变量表示此变量存储在CPU的寄存器中。</p><ul><li>用register修饰的变量只能是局部变量，不能是全局变量。CPU的寄存器资源有限，因此<br>不可能让一个变量一直占着CPU寄存器</li><li>register变量一定要是CPU可以接受的值</li><li>不可以用&amp;运算符堆register变量进行取值，因为&amp;是对内存上的变量有用，而register变量<br>在CPU上，不起作用</li><li>register只是请求寄存器变量，不一定会被满足。由C编译环境决定，所以这个register变量<br>仅仅是暗示不是命令</li></ul><p>Register 关键字会尽量把变量放在寄存器上，而不是栈或者堆上，从而加快存取速度。举个测试的例子</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/timeb.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TIME 1000000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// global variables</span></span><br><span class="line"><span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> n = TIME;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getSystemTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeb</span> <span class="title">t</span>;</span></span><br><span class="line">    ftime(&amp;t);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1000</span> * t.time + t.millitm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testRegisterKeyword</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// define register variable</span></span><br><span class="line">    <span class="keyword">register</span> <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">register</span> <span class="keyword">int</span> b = TIME;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// define local variable</span></span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> y = TIME;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> end = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    start = getSystemTime();</span><br><span class="line">    <span class="keyword">for</span> (a = <span class="number">0</span>; a &lt; b; a++);</span><br><span class="line">    end = getSystemTime();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"寄存器变量用时: %lld ms\n"</span>, end - start);</span><br><span class="line">    </span><br><span class="line">    start = getSystemTime();</span><br><span class="line">    <span class="keyword">for</span> (x = <span class="number">0</span>; x &lt; y; x++);</span><br><span class="line">    end = getSystemTime();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"局部变量用时: %lld ms\n"</span>, end - start);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    start = getSystemTime();</span><br><span class="line">    <span class="keyword">for</span> (m = <span class="number">0</span>; m &lt; n; m++);</span><br><span class="line">    end = getSystemTime();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"全局变量用时: %lld ms\n"</span>, end - start);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">在mac上 <span class="keyword">register</span> 变量用时反而是最长的 :(</span><br></pre></td></tr></table></figure><h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><h2 id="extern"><a href="#extern" class="headerlink" title="extern"></a>extern</h2><h2 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;C 语言有5个存储类说明符的关键字&lt;/p&gt;
&lt;h2 id=&quot;auto&quot;&gt;&lt;a href=&quot;#auto&quot; class=&quot;headerlink&quot; title=&quot;auto&quot;&gt;&lt;/a&gt;auto&lt;/h2&gt;&lt;p&gt;auto 在C语言中只有修饰局部变量这一个作用。表示这个局部变量是自动局部
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iOS Interview</title>
    <link href="http://www.yuliang.xyz/2018/06/19/ios-interview/"/>
    <id>http://www.yuliang.xyz/2018/06/19/ios-interview/</id>
    <published>2018-06-19T23:17:38.000Z</published>
    <updated>2019-02-06T03:24:21.252Z</updated>
    
    <content type="html"><![CDATA[<hr><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><hr><ol><li>为什么说Objective-C是一门动态的语言？</li></ol><p>Object-c类的类型和数据变量的类型都是在运行是确定的，而不是在编译时确定。例如：多态特性，我们可以使用父类指针来指向子类对象，并且可以用来调用子类的方法。运行时(runtime)特性,我们可以动态的添加方法，或者替换方法。</p><p>动态的意思是不需要在编译时确定所有的东西,在运行时也可以动态添加变量,属性,方法和类. Objective-C 可以通过Runtime这个运行时机制,在运行时动态的添加变量,方法和类等,</p><p>它的动态性主要体现在3个方面：<br>1.动态类型：如id类型。实际上静态类型因为其固定性和可预知性而使用的特别广泛。静态类型是强类型，动态类型是弱类型，运行时决定接收者。<br>2.动态绑定：让代码在运行时判断需要调用什么方法，而不是在编译时。与其他面向对象语言一样，方法调用和代码并没有在编译时连接在一起，而是在消息发送时才进行连接。运行时决定调用哪个方法。<br>3.动态载入。让程序在运行时添加代码模块以及其他资源。用户可以根据需要执行一些可执行代码和资源，而不是在启动时就加载所有组件。可执行代码中可以含有和程序运行时整合的新类。</p><ol><li><p>讲一下MVC和MVVM，MVP？</p></li><li><p>为什么代理要用weak？代理的delegate和dataSource有什么区别？block和代理的区别?</p></li></ol><ul><li>代理是使用weak来修饰的。</li></ul><p>1.使用weak是为了避免循环引用。<br>防止循环引用。例如View有一个协议，需要一个代理实现回调。一个Controller添加这个View，并且遵守协议，成为View的代理。如果不用week，用strong，Controller -&gt;View -&gt; delegate -&gt; Controller，就循环引用了。</p><p>2.当使用weak修饰的属性，当对象释放的时候，系统会对属性赋值nil,object-c有个特性就是对nil对象发送消息也就是调用方法，不会cash。</p><ul><li><p>delegate:传递的是事件(even)，偏重于与用户交互的回调。代理可以让A对象通知B对象，我(A)发生的变化，前提B遵循了A的代理，并且实现了A的代理方法。</p></li><li><p>dataSource: 传递的是数据。如果A对象声明了数据源，当我们创建A对象的时候，我们就该实现数据源，来告诉A，他所需要的一些数据。例如：tableView数据源方法，需要告诉它，我要实现几组cell，每组cell多少行cell，实现的cell什么样式，什么内容</p></li><li><p>同样delegate和  dataSource,都是可以使用require和optional来修饰的。</p></li></ul><ol><li>代理和Block的区别<br>相同点：代理和Block大多是我们都可以用来做倒序传值的。我们都得注意避免循环引用。不然我们去使用代理还是Block的时候，都需要判断它们是否实现</li></ol><p>不同点：代理使用weak修饰，代理必须先声明方法。当我们调用代理的时候要判断是否已经实现。</p><p>block：使用的是copy来修饰，block保存的是一段代码，其实也就是一个函数。并且可以自动捕捉自动变量，如果想修改此自动变量，还必须使用__block修饰。</p><p>在 iOS中， block一共分三种。<br>  (1)全局静态 block，不会访问任何外部变量，执行完就销毁。</p><pre><code>^{    NSLog(@&quot;Hello World!&quot;);}();</code></pre><p>(2)保存在栈中的 block，当函数返回时会被销毁，和第一种的区别就是调用了外部变量。</p><pre><code>[UIView animateWithDuration:3 animations:^{    self.view.backgroundColor = [UIColor redColor];}];</code></pre><p>(3)保存在堆中的 block，当引用计数为 0 时会被销毁。例如按钮的点击事件，一直存在，即使执行过，也不销毁，因为按钮还可能被点击，持有按钮的View被销毁，它才会被销毁。</p><p>2.block优点<br>block的代码可读性更好。因为应用block和实现block的地方在一起。代理的声明和实现就分开来了，在两个类中。代理使用起来也更麻烦，因为要声明协议、声明代理、遵守协议、实现协议里的方法。block不需要声明，也不需要遵守，只需要声明和实现就可以了。<br>  block是一种轻量级的回调，可以直接访问上下文，由于block的代码是内联的，运行效率更高。block就是一个对象，实现了匿名函数的功能。所以我们可以把block当做一个成员变量、属性、参数使用，使用起来非常灵活。像用AFNetworking请求数据和GCD实现多线程，都使用了block回调。</p><p>3.block缺点<br>blcok的运行成本高。block出栈需要将使用的数据从栈内存拷贝到堆内存，当然对象的话就是引用计数加1，使用完或者block置nil后才销毁。delegate只是保存了一个对象指针(一定要用week修饰delegate，不然也会循环引用)，直接回调，没有额外消耗。就像C的函数指针，只多做了一个查表动作。<br>  block容易造成循环引用，而且不易察觉。因为为了blcok不被系统回收，所以我们都用copy关键字修饰，实行强引用。block对捕获的变量也都是强引用，所以就会造成循环引用。</p><p>4.如何使用<br>优先使用block。<br>  如果回调函数很多，多余三个使用代理。<br>  如果回调的很频繁，次数很多，像UITableview，每次初始化、滑动、点击都会回调，使用代理。    </p><h4 id="4-属性"><a href="#4-属性" class="headerlink" title="4. 属性"></a>4. 属性</h4><ul><li><p>实质是什么？<br>属性是描述类的特征，也就是具备什么特性。</p></li><li><p>包括哪几个部分？<br>三个部分，带下划线的成员变量，get、setter方法</p></li><li><p>属性默认的关键字都有哪些？<br>默认关键字：readwrite，assign, atomic; – 是针对基本类型(NSInteger, BOOL, NSUInteger, int, 等)<br>针对引用类型(普通的 OC 对象), 默认:strong, readwrite, atomic （例如：NSString, NSArray, NSDictory等）</p></li><li><p>@dynamic关键字是用来做什么的？<br>@dynamic :修饰的属性，其getter和setter方法编译器是不会自动帮你生成。必须自己是实现的。</p></li><li><p>@synthesize关键字是用来做什么的？<br>@synthesize：修饰的属性，其getter和setter方法编译器是会自动帮你生成，不必自己实现。且指定与属性相对应的成员变量。</p></li></ul><h4 id="6-NSString为什么要用copy关键字，如果用strong会有什么问题？（注意：这里没有说用strong就一定不行。使用copy和strong是看情况而定的）"><a href="#6-NSString为什么要用copy关键字，如果用strong会有什么问题？（注意：这里没有说用strong就一定不行。使用copy和strong是看情况而定的）" class="headerlink" title="6. NSString为什么要用copy关键字，如果用strong会有什么问题？（注意：这里没有说用strong就一定不行。使用copy和strong是看情况而定的）"></a>6. NSString为什么要用copy关键字，如果用strong会有什么问题？（注意：这里没有说用strong就一定不行。使用copy和strong是看情况而定的）</h4><ul><li>什么是copy？</li><li><p>什么是strong？</p></li><li><p>为什么要用copy？ 安全，在初始化时,如果来源是NSMutableString的话,会对来源进行一次深拷贝,将来源的内存地址复制一份,这样,两个对象就一点关系就没有了,无论你怎么操作来源,都不会对自己的NSString有任何影响</p></li><li><p>为什么不都用copy？<br>既然copy安全,那为什么不都用copy?<br>这里我们需要了解一点,copy修饰的NSString在进行set操作时,底层是这样实现的:<br>我们还是举上面那个例子,进行str = sourceStr操作时,内部会执行一个操作:<br>str = [sourceStr copy];<br>那么这个copy里面做了什么呢?<br>if ([str isMemberOfClass:[str class]])<br>没错,就是进行一次判断,判断来源是可变的还是不可变的,如果是不可变,那么好,接下来的操作就跟strong修饰的没有区别,进行浅拷贝;如果是可变的,那么会进行一次深拷贝<br>所以,copy操作内部会进行判断,你别小看了这个if操作所消耗的内存,一次不重要,十次可能也可以忽略不计,但当你的项目十分庞大时,有成百上千个个NSString对象,多多少少会对你的app的性能造成一定的影响.</p></li><li><p>什么时候才用copy？<br>你只需要记住一点,当你给你的的NSString对象赋值时,如果来源是NSMutableString,那么这种情况就必须要用copy;如果你确定来源是不可变类型的,比如@”<a href="http://www.jianshu.com/users/691d9ed740cf/latest_articles&quot;这种固定的字符串,那么用strong比较好" target="_blank" rel="noopener">http://www.jianshu.com/users/691d9ed740cf/latest_articles&quot;这种固定的字符串,那么用strong比较好</a></p></li></ul><p>我们知道copy的含义是指当重新赋值时深拷贝新对象再赋值给self.name, 相反当修饰符为strong时，因为strong的意思是指针指向原对象，并且引用计数+1，<br>所以为了避免NSString类型的值被修改，一般建议用copy修饰符修饰。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Person: NSObject</span><br><span class="line"></span><br><span class="line">@property (copy) NSString *name;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    </span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        Person *xiaoMing = [[Person alloc] init];</span><br><span class="line">        NSMutableString *name1 = [[NSMutableString alloc] initWithString: @&quot;xiaoming&quot;];</span><br><span class="line">        xiaoMing.name = name1;</span><br><span class="line">        </span><br><span class="line">        NSLog(@&quot;%@&quot;, xiaoMing.name);</span><br><span class="line">        </span><br><span class="line">        [name1 appendString:@&quot;one more thing&quot;];</span><br><span class="line">        // 如果peron的name属性没有用 copy，而是默认的strong来修饰，那么name1变了，person的name的值也会变</span><br><span class="line">        NSLog(@&quot;%@&quot;, xiaoMing.name);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">NSLog(@&quot;%@&quot;, xiaoMing.name);</span><br></pre></td></tr></table></figure><p>NSString 默认是 Strong修饰的</p><p>如果用Copy来修饰name这个属性不会改变。如果使用Strong，当name这个字符串改变的时候，name这个属性也会随着改变。</p><p>补充：这其实也是看需求，看被赋值的字符串是否需要随着赋值字符串的变化而变化，而大多数情况下我们不希望<br>被赋值的字符串如某个对象的某个字符串类型的属性会随着赋值字符串的变化而变化。 反之，如果我们希望被赋值的字符串随着赋值字符串的变化而变化，那么我们也可以使用strong来修饰字符串</p><p>至于其底层原理区别则是两种修饰方式让指针指向的内存地址不同。使用copy修饰被赋值字符串，被修饰字符串会对赋值字符串（可变字符串）进行一次深拷贝，那么被赋值字符串和赋值字符串指向的是完全不同的两块内存地址，反之两者指向的同一块内存地址。</p><p>当我们确定赋值字符串是不可变字符串的时候我们是可以使用strong来修饰字符串。</p><h4 id="7、如何令自己所写的对象具有拷贝功能"><a href="#7、如何令自己所写的对象具有拷贝功能" class="headerlink" title="7、如何令自己所写的对象具有拷贝功能?"></a>7、如何令自己所写的对象具有拷贝功能?</h4><p>需实现 NSCopying 协议。如果自定义的对象分为可变版本与不可变版本，那么就要同时实现 NSCopying与 NSMutableCopying协议。<br>具体步骤：<br>需声明该类遵从 NSCopying 协议<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">实现 NSCopying 协议。该协议只有一个方法: </span><br><span class="line">- (id)copyWithZone:(NSZone *)zone; </span><br><span class="line"></span><br><span class="line">注意：一提到让自己的类用 copy 修饰符，我们总是想覆写copy方法，其实真正需要实现的却是 “copyWithZone” 方法。 </span><br><span class="line">至于如何重写带 copy 关键字的 setter这个问题， </span><br><span class="line">如果抛开本例来回答的话，如下：</span><br><span class="line"></span><br><span class="line">- (void)setName:(NSString *)name &#123;</span><br><span class="line">    //[_name release];</span><br><span class="line">    _name = [name copy];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="8、可变集合类-和-不可变集合类的-copy-和-mutablecopy有什么区别？如果是集合是内容复制的话，集合里面的元素也是内容复制么？"><a href="#8、可变集合类-和-不可变集合类的-copy-和-mutablecopy有什么区别？如果是集合是内容复制的话，集合里面的元素也是内容复制么？" class="headerlink" title="8、可变集合类 和 不可变集合类的 copy 和 mutablecopy有什么区别？如果是集合是内容复制的话，集合里面的元素也是内容复制么？"></a>8、可变集合类 和 不可变集合类的 copy 和 mutablecopy有什么区别？如果是集合是内容复制的话，集合里面的元素也是内容复制么？</h4><p>使用copy时 可变集合的指针地址以及内存地址都不相同 深复制<br>使用copy时 不可变集合的指针地址不一样但是内存地址一样 属于浅复制 </p><p>使用mutableCopy的时候无论是可变集合还是不可变集合的指针地址和内存地址都不同 都属于深复制</p><h4 id="9-为什么IBOutlet修饰的UIView也适用weak关键字？"><a href="#9-为什么IBOutlet修饰的UIView也适用weak关键字？" class="headerlink" title="9. 为什么IBOutlet修饰的UIView也适用weak关键字？"></a>9. 为什么IBOutlet修饰的UIView也适用weak关键字？</h4><p>在xib或者Sb拖控件时，其实控件就加载到了父控件的subviews数组里面，进行了强引用，即使使用了weak，也不造成对象的释放。</p><h4 id="10-在定义-property-的时候-nonatomic-和-atomic的区别？"><a href="#10-在定义-property-的时候-nonatomic-和-atomic的区别？" class="headerlink" title="10. 在定义 property 的时候 nonatomic 和 atomic的区别？"></a>10. 在定义 property 的时候 nonatomic 和 atomic的区别？</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@property(nonatomic, retain) UITextField *userName;</span><br><span class="line">@property(atomic, retain) UITextField *userName;</span><br><span class="line">@property(retain) UITextField *userName;</span><br></pre></td></tr></table></figure><p>后两行是一样的，不写的话默认就是atomic。</p><p>atomic 和 nonatomic 的区别在于，系统自动生成的 getter/setter 方法不一样。如果你自己写 getter/setter，那 atomic/nonatomic/retain/assign/copy 这些关键字只起提示作用，写不写都一样。</p><p>对于atomic的属性，系统生成的 getter/setter 会保证 get、set 操作的完整性，不受其他线程影响。比如，线程 A 的 getter 方法运行到一半，线程 B 调用了 setter：那么线程 A 的 getter 还是能得到一个完好无损的对象。</p><p>而nonatomic就没有这个保证了。所以，nonatomic的速度要比atomic快。</p><p>不过atomic可并不能保证线程安全,只是读/写安全的。如果线程 A 调了 getter，与此同时线程 B 、线程 C 都调了 setter——那最后线程 A get 到的值，3种都有可能：可能是 B、C set 之前原始的值，也可能是 B set 的值，也可能是 C set 的值。同时，最终这个属性的值，可能是 B set 的值，也有可能是 C set 的值。</p><p>atomic：默认是有该属性的，这个属性是为了保证程序在多线程情况下，编译器会自动生成一些互斥加锁代码，避免该变量的读写不同步问题。<br>nonatomic：如果该对象无需考虑多线程的情况，请加入这个属性，这样会让编译器少生成一些互斥加锁代码，可以提高效率。</p><p>nonatomic:表示非原子，不安全，但是效率高。<br>atomic：表示原子行，安全，但是效率低。</p><ul><li>atomic是绝对的线程安全么？为什么？如果不是，那应该如何实现？</li><li>atomic：不能绝对保证线程的安全，当多线程同时访问的时候，会造成线程不安全。可以使用线程锁来保证线程的安全。</li></ul><p>Example：<br>{lock}<br>    if (property != newValue) {<br>            [property release];<br>            property = [newValue retain];<br>    }<br>{unlock}</p><p>可以看出来，用atomic会在多线程的设值取值时加锁，中间的执行层是处于被保护的一种状态，atomic是oc使用的一种线程保护技术，基本上来讲，就是防止在写入未完成的时候被另外一个线程读取，造成数据错误。而这种机制是耗费系统资源的，所以在iPhone这种小型设备上，如果没有使用多线程间的通讯编程，那么nonatomic是一个非常好的选择。</p><ol><li>进程和线程的区别？同步异步的区别？并行和并发的区别？<br>进程：是具有一定独立功能的程序关于某个数据集合上的一次运行活动,进程是系统进行资源分配和调度的一个独立单位.</li></ol><p>线程：是进程的一个实体,是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位.线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源.</p><p>同步：阻塞当前线程操作，不能开辟线程。</p><p>异步：不阻碍线程继续操作，可以开辟线程来执行任务。</p><p>并发：当有多个线程在操作时,如果系统只有一个CPU,则它根本不可能真正同时进行一个以上的线程，它只能把CPU运行时间划分成若干个时间段,再将时间 段分配给各个线程执行，在一个时间段的线程代码运行时，其它线程处于挂起状。.这种方式我们称之为并发(Concurrent)。</p><p>并行：当系统有一个以上CPU时,则线程的操作有可能非并发。当一个CPU执行一个线程时，另一个CPU可以执行另一个线程，两个线程互不抢占CPU资源，可以同时进行，这种方式我们称之为并行(Parallel)。</p><p>区别：并发和并行是即相似又有区别的两个概念，并行是指两个或者多个事件在同一时刻发生；而并发是指两个或多个事件在同一时间间隔内发生。在多道程序环境下，并发性是指在一段时间内宏观上有多个程序在同时运行，但在单处理机系统中，每一时刻却仅能有一道程序执行，故微观上这些程序只能是分时地交替执行。倘若在计算机系统中有多个处理机，则这些可以并发执行的程序便可被分配到多个处理机上，实现并行执行，即利用每个处理机来处理一个可并发执行的程序，这样，多个程序便可以同时执行。</p><h4 id="14-线程间通信？"><a href="#14-线程间通信？" class="headerlink" title="14. 线程间通信？"></a>14. 线程间通信？</h4><p>当使用dispath-async函数开辟线程执行任务的完成时，我们需要使用dispatch_async(dispatch_get_main_queue(), ^{ }); 函数会到主线程内刷新UI。并完成通信</p><ol><li>GCD的一些常用的函数？（group，barrier，信号量，线程同步）</li></ol><ul><li>使用队列组来开辟线程时，队列组中的队列任务是并发，当所有的队列组中的所有任务完成时候，才可以调用队列组完成任务。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/**创建自己的队列*/</span><br><span class="line">dispatch_queue_t dispatchQueue = dispatch_queue_create(&quot;ted.queue.next&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line">/**创建一个队列组*/</span><br><span class="line">dispatch_group_t dispatchGroup = dispatch_group_create();</span><br><span class="line">/**将队列任务添加到队列组中*/</span><br><span class="line">dispatch_group_async(dispatchGroup, dispatchQueue, ^()&#123;</span><br><span class="line">    NSLog(@&quot;dispatch-1&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">   /**将队列任务添加到队列组中*/</span><br><span class="line">dispatch_group_async(dispatchGroup, dispatchQueue, ^()&#123;</span><br><span class="line">    NSLog(@&quot;dspatch-2&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">  /**队列组完成调用函数*/</span><br><span class="line">dispatch_group_notify(dispatchGroup, dispatch_get_main_queue(), ^()&#123;</span><br><span class="line">    NSLog(@&quot;end&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>barrier:表示栅栏，当在并发队列里面使用栅栏时候，栅栏之前的并发任务开始并发执行，执行完毕后，执行栅栏内的任务，等栅栏任务执行完毕后，再并发执行栅栏后的任务。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">dispatch_queue_t concurrentQueue = dispatch_queue_create(&quot;my.concurrent.queue&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line">dispatch_async(concurrentQueue, ^()&#123;</span><br><span class="line">    NSLog(@&quot;dispatch-1&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">dispatch_async(concurrentQueue, ^()&#123;</span><br><span class="line">    NSLog(@&quot;dispatch-2&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">dispatch_barrier_async(concurrentQueue, ^()&#123;</span><br><span class="line">    NSLog(@&quot;dispatch-barrier&quot;); </span><br><span class="line">&#125;);</span><br><span class="line">dispatch_async(concurrentQueue, ^()&#123;</span><br><span class="line">    NSLog(@&quot;dispatch-3&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">dispatch_async(concurrentQueue, ^()&#123;</span><br><span class="line">    NSLog(@&quot;dispatch-4&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><p>信号量：Semaphore是通过‘计数’的方式来标识线程是否是等待或继续执行的。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dispatch_semaphore_create(int) // 创建一个信号，并初始化信号的计数大小</span><br><span class="line">/* 等待信号，并且判断信号量，如果信号量计数大于等于你创建时候的信号量的计数，就可以通过，继续执行，并且将你传入的信号计数减1，</span><br><span class="line"> * 如果传入的信号计数小于你创建的计数，就表示等待，等待信号计数的变化</span><br><span class="line"> *  如果等待的时间超过你传入的时间，也会继续下面操作</span><br><span class="line"> *   第一个参数：semaphore 表示信号量</span><br><span class="line"> *   第二个参数：表示等待的时间</span><br><span class="line"> *    返回int 如果传入的信号计数大于等于你创建信号的计数时候，返回0.  反之，返回的不等于0</span><br><span class="line"> */</span><br><span class="line"> int result = dispatch_semaphore_wait(dispatch_semaphore_t  semaphore,time outTime);// 表示等待，也是阻碍线程</span><br><span class="line">// 表示将信号技术+1</span><br><span class="line">dispatch_semaphore_signl(dispatch_semaphore_t semaphore);</span><br></pre></td></tr></table></figure></li><li><p>实现线程的同步的方法：串行队列，分组，信号量。也是可以使用并发队列。</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//加入队列</span><br><span class="line">dispatch_async(concurrentQueue, ^&#123;</span><br><span class="line">    //1.先去网上下载图片</span><br><span class="line">    dispatch_sync(concurrentQueue, ^&#123;</span><br><span class="line">       </span><br><span class="line">    &#125;);</span><br><span class="line">    //2.在主线程展示到界面里</span><br><span class="line">    dispatch_sync(dispatch_get_main_queue(), ^&#123;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol><li><p>如何使用队列来避免资源抢夺？<br>当我们使用多线程来访问同一个数据的时候，就有可能造成数据的不准确性。这个时候我么可以使用线程锁的来来绑定。也是可以使用串行队列来完成。如：fmdb就是使用FMDatabaseQueue，来解决多线程抢夺资源。</p></li><li><p>数据持久化的几个方案<br>plist, 存储字典，数组比较好用<br>preference：偏好设置，实质也是plist<br>NSKeyedArchiver：归档，可以存储对象<br>sqlite：数据库，经常使用第三方来操作，也就是fmdb<br>coreData: 也是数据库储存，苹果官方的</p></li></ol><hr><h2 id="中级"><a href="#中级" class="headerlink" title="中级"></a>中级</h2><hr><h3 id="Block"><a href="#Block" class="headerlink" title="Block"></a>Block</h3><h3 id="Runtime"><a href="#Runtime" class="headerlink" title="Runtime"></a>Runtime</h3><ol><li>objc在向一个对象发送消息时，发生了什么？<br>根据对象的isa指针找到类对象id，在查询类对象里面的methodLists方法函数列表，如果没有在好到，在沿着superClass,寻找父类，再在父类methodLists方法列表里面查询，最终找到SEL,根据id和SEL确认IMP（指针函数）,在发送消息；</li></ol><p>再复习C++的这个部分</p><ol><li>什么时候会报unrecognized selector错误？iOS有哪些机制来避免走到这一步？</li></ol><p>当发送消息的时候，我们会根据类里面的methodLists列表去查询我们要动用的SEL,当查询不到的时候，我们会一直沿着父类查询，当最终查询不到的时候我们会报unrecognized selector 错误</p><p>当系统查询不到方法的时候，会调用+(BOOL)resolveInstanceMethod:(SEL)sel动态解释的方法来给我一次机会来添加，调用不到的方法。或者我们可以再次使用-(id)forwardingTargetForSelector:(SEL)aSelector重定向的方法来告诉系统，该调用什么方法，一来保证不会崩溃</p><ol><li>给类添加一个属性后，在类结构体里哪些元素会发生变化？<br>instance_size ：实例的内存大小<br><code>objc_ivar_list *ivars:属性列表</code></li></ol><h3 id="Runloop"><a href="#Runloop" class="headerlink" title="Runloop"></a>Runloop</h3><ol><li>runloop是来做什么的？runloop和线程有什么关系？主线程默认开启了runloop么？子线程呢？</li></ol><ul><li>runloop:字面意思就是跑圈，其实也就是一个循环跑圈，用来处理线程里面的事件和消息。</li><li>runloop和线程的关系：每个线程如果想继续运行，不被释放，就必须有一个runloop来不停的跑圈，以来处理线程里面的各个事件和消息。</li><li>主线程默认是开启一个runloop。也就是这个runloop才能保证我们程序正常的运行。子线程是默认没有开始runloop的</li></ul><ol><li>runloop的mode是用来做什么的？有几种mode？</li></ol><ul><li>model:是runloop里面的模式，不同的模式下的runloop处理的事件和消息有一定的差别。</li></ul><p>系统默认注册了5个Mode:<br>（1）kCFRunLoopDefaultMode: App的默认 Mode，通常主线程是在这个 Mode 下运行的。<br>（2）UITrackingRunLoopMode: 界面跟踪 Mode，用于 ScrollView 追踪触摸滑动，保证界面滑动时不受其他 Mode 影响。<br>（3）UIInitializationRunLoopMode: 在刚启动 App 时第进入的第一个 Mode，启动完成后就不再使用。<br>（4）GSEventReceiveRunLoopMode: 接受系统事件的内部 Mode，通常用不到。<br>（5）kCFRunLoopCommonModes: 这是一个占位的 Mode，没有实际作用。</p><ul><li>注意iOS 对以上5中model进行了封装<br>NSDefaultRunLoopMode;<br>NSRunLoopCommonModes</li></ul><h3 id="类结构"><a href="#类结构" class="headerlink" title="类结构"></a>类结构</h3><ol><li>isa指针？（对象的isa，类对象的isa，元类的isa都要说）</li></ol><ol><li>类方法和实例方法有什么区别？<br>调用的方式不同，类方法必须使用类调用，在方法里面不能调用属性，类方法里面也必须调用类方法。存储在元类结构体里面的methodLists里面</li></ol><p>实例方法必须使用实例对象调用，可以在实例方法里面使用属性，实例方法也必须调用实例方法。存储在类结构体里面的methodLists里面</p><hr><h2 id="高级"><a href="#高级" class="headerlink" title="高级"></a>高级</h2><hr><hr><h2 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h2><hr><p>1.有已经上线的项目么？</p><p>2.项目里哪个部分是你完成的？（找一个亮点问一下如何实现的）</p><p>3.开发过程中遇到过什么困难，是如何解决的？</p><hr><h2 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h2><hr><p>4.遇到一个问题完全不能理解的时候，是如何帮助自己理解的？举个例子？</p><p>5.有看书的习惯么？最近看的一本是什么书？有什么心得？</p><p>6.有没有使用一些笔记软件？会在多平台同步以及多渠道采集么？（如果没有，问一下是如何复习知识的）</p><p>7.有没有使用清单类，日历类的软件？（如果没有，问一下是如何安排，计划任务的）</p><p>8.平常看博客么？有没有自己写过？（如果写，有哪些收获？如果没有写，问一下不写的原因）</p><hr><h2 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h2><hr><ul><li>面试者一定要知道面试官问的点是什么。</li><li>实践与理论的脱节，让人很不安。能做出来项目，但是基础知识很薄弱</li><li>只依赖于公司里的项目应该是不够的，毕竟不是每个公司里都有上乘的代码和技术</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;hr&gt;
&lt;h2 id=&quot;基础&quot;&gt;&lt;a href=&quot;#基础&quot; class=&quot;headerlink&quot; title=&quot;基础&quot;&gt;&lt;/a&gt;基础&lt;/h2&gt;&lt;hr&gt;
&lt;ol&gt;
&lt;li&gt;为什么说Objective-C是一门动态的语言？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Object-c类的类型和数据
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iOS Swift</title>
    <link href="http://www.yuliang.xyz/2018/06/19/ios-swift/"/>
    <id>http://www.yuliang.xyz/2018/06/19/ios-swift/</id>
    <published>2018-06-19T04:21:21.000Z</published>
    <updated>2019-02-04T00:09:19.662Z</updated>
    
    <content type="html"><![CDATA[<p>简单，安全，快</p><p>Ojbective-C 的方法名字太长</p><p>Swift 舍弃了null 而使用Optional 语言</p><h3 id="变量与常量"><a href="#变量与常量" class="headerlink" title="变量与常量"></a>变量与常量</h3><ul><li><p>使用var声明变量，使用let声明常量<br>let str = “String”<br>var str = “String”</p></li><li><p>类型推断： Swift是强类型的语言<br>let str: String = “String”</p></li></ul><p>其中String就是变量的类型。上面的:String 之所以可以省略是因为后面给变量str赋值了一个String类型的常量。<br>所以编译器能够推断出str也是String类型的。</p><h3 id="数组-Array"><a href="#数组-Array" class="headerlink" title="数组 (Array)"></a>数组 (Array)</h3><p>在Swift中，Array和Dictionary是值类型的。所以使用简单的等号就可以完成拷贝了。不像有些语言还分深拷贝和浅拷贝。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var arrayOfIntegers : [Int] = [1,2,3]</span><br><span class="line">// 隐式指定</span><br><span class="line">var implicitArrayOfIntegers = [1,2,3]</span><br><span class="line"></span><br><span class="line">// 也可以创建空数组,但必须提供其类型</span><br><span class="line">let anotherArray = [Int]()</span><br><span class="line"></span><br><span class="line">let arr = [2.0, 4.5, 3.7] // 数组常量的使用只需要用中括号里面加数组的元素；</span><br><span class="line"></span><br><span class="line">let arrExplicit: [Double] // 显式的声明一个数组变量，则变量的类型为中括号，里面是每个元素的类型；</span><br><span class="line"></span><br><span class="line">// for循环的条件不需要用括号括起来</span><br><span class="line">// 0..&lt;3 表示0到3的一个数组，但不包括3</span><br><span class="line">// 0...3会包括3</span><br><span class="line">for i in 0..&lt;arr.count&#123;</span><br><span class="line">    print(arr[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>数组的一些API:</li></ul><p>arr.append(6.3)<br>arr.remove(at: 3)<br>arr.insert(10.9, at: 1)<br>arr.append(contentsOf: [3.5,6.8])<br>arr[0] = 89.23<br>arr.reversed()<br>arr.sort()</p><h3 id="字典-Dictionary"><a href="#字典-Dictionary" class="headerlink" title="字典 (Dictionary)"></a>字典 (Dictionary)</h3><ul><li><p>声明与使用：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var dictionary: [String:Int] = [</span><br><span class="line">    &quot;one&quot; : 1,</span><br><span class="line">    &quot;two&quot; : 2,</span><br><span class="line">    &quot;three&quot; : 3</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>赋值一个空的字典：<br>var emptyDictionary: [Int:Int] = [:]</p></li></ul><ul><li><p>字典取值：<br>let value = dictionary[“one”]</p></li><li><p>字典的添加,更新和删除</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var emptyDictionary: [Int:Int] = [:]</span><br><span class="line">emptyDictionary[1] = 12</span><br><span class="line">emptyDictionary.updateValue(14, forKey: 1)</span><br><span class="line">emptyDictionary.removeValue(forKey: 1)</span><br></pre></td></tr></table></figure></li></ul><h3 id="元组（Tuple）"><a href="#元组（Tuple）" class="headerlink" title="元组（Tuple）"></a>元组（Tuple）</h3><p>元组就是一种数据结构，里面包含一个或多个值，并且这些值可以是不同类型的。<br>元组中的值可以是命名的也可以是匿名的。如果是命名的，那么可以使用.符号来获取该值。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var tuple  = (&quot;name&quot;,12)</span><br><span class="line">var namedTuple = (name:&quot;Name&quot;,age:12)</span><br><span class="line">namedTuple.name = &quot;updateName&quot;</span><br></pre></td></tr></table></figure><ul><li>Tuple 的用处，方法返回多个返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">func getNameAndAge() -&gt; (String,Int)&#123;</span><br><span class="line">    return (&quot;Ace&quot;,20)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="枚举类型（Enum）"><a href="#枚举类型（Enum）" class="headerlink" title="枚举类型（Enum）"></a>枚举类型（Enum）</h3><ul><li><p>声明与使用：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">enum iOSDeviceType &#123;</span><br><span class="line">    case iPhone</span><br><span class="line">    case iPad</span><br><span class="line">    case iWatch</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var myDevice = iOSDeviceType.iPhone</span><br></pre></td></tr></table></figure></li><li><p>当变量的类型已经明确时，赋值可以简化为：<br>var myDevice: iOSDeviceType<br>myDevice = .iPhone </p></li><li><p>Raw Value<br>每个枚举都可以拥有自己的一个原生类型的raw value，所有的枚举关联的raw value必须<br>是同一个类型的。当类型是Int时，默认按照枚举值的顺序递增其raw value。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enum Direction: Int &#123;</span><br><span class="line">    case Up = 1</span><br><span class="line">    case Down // will have the raw value 2</span><br><span class="line">    case Left // will have the raw value 3</span><br><span class="line">    case Right // will have the raw value 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="—-Control-Flow"><a href="#—-Control-Flow" class="headerlink" title="— Control Flow"></a>— Control Flow</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if 1+1 == 2 &#123;</span><br><span class="line">         println(&quot;The math checks out&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="for"><a href="#for" class="headerlink" title="for"></a>for</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var sum = 0</span><br><span class="line">for var i = 0; i &lt; 3; i++ &#123;</span><br><span class="line">    sum += 1 </span><br><span class="line">&#125;</span><br><span class="line">sum // = 3</span><br></pre></td></tr></table></figure><h4 id="for-in"><a href="#for-in" class="headerlink" title="for-in"></a>for-in</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var firstCounter = 0</span><br><span class="line">     for index in 1 ..&lt; 10 &#123;</span><br><span class="line">         firstCounter++</span><br><span class="line">     &#125;</span><br><span class="line">// 循环9次</span><br><span class="line"></span><br><span class="line">var secondCounter = 0</span><br><span class="line">for index in 1 ... 10 &#123; // 注意是三个句点,不是两个</span><br><span class="line">         secondCounter++</span><br><span class="line">     &#125;</span><br><span class="line">// 循环10次</span><br><span class="line"></span><br><span class="line">let loopingArray = [1,2,3,4,5]</span><br><span class="line">var loopSum = 0</span><br><span class="line">for number in loopingArray &#123;</span><br><span class="line">     loopSum += number</span><br><span class="line">&#125;</span><br><span class="line">loopSum // = 15</span><br></pre></td></tr></table></figure><h4 id="while-amp-do-while"><a href="#while-amp-do-while" class="headerlink" title="while &amp; do-while"></a>while &amp; do-while</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var countDown = 5</span><br><span class="line"></span><br><span class="line">while countDown &gt; 0 &#123;</span><br><span class="line">     countDown--</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">countDown</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var countUP = 0</span><br><span class="line">do &#123;</span><br><span class="line">         countUp++</span><br><span class="line">&#125; while countUp &lt; 5</span><br><span class="line">countUp // = 5</span><br></pre></td></tr></table></figure><h4 id="if-let"><a href="#if-let" class="headerlink" title="if-let"></a>if-let</h4><p>if-let 语句检查一个可选变量是否包 含值。如果包含,则将这个值指定给一个常量变量,<br>然后运行某段代码。这样可以减少很 多行代码,同时又能够保证安全性。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var conditionalString : String? = &quot;a string&quot;</span><br><span class="line">     if let theString = conditionalString? &#123;</span><br><span class="line">         println(&quot;The string is &apos;\(theString)&apos;&quot;)</span><br><span class="line">     &#125; else &#123;</span><br><span class="line">         println(&quot;The string is nil&quot;)</span><br><span class="line">&#125;</span><br><span class="line">// 输出 &quot;The string is &apos;a string&apos;&quot;</span><br></pre></td></tr></table></figure><h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FirstClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> total: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">let</span> pro: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// init方法是每个类的构造函数。不需要前缀func。</span></span><br><span class="line">    <span class="keyword">init</span>(total: <span class="type">Double</span>, pro: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.total = total</span><br><span class="line">        <span class="keyword">self</span>.pro = pro</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数的返回值用-&gt; 表示</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">doSomeThing</span><span class="params">(param1: String, param2: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="comment">// 如何在控制台打印字符以及如何在字符中包含参数（使用反斜杠加括号）</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"do something \(str)"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"over"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>要重写一个函数,要在子类中重新声明它,并添加 override 关键字</p><p>class Car: Vehicle {<br>// 继承类可以重写函数<br>             override func description() -&gt; String {<br>                 var description = super.description()<br>                 return description + “, which is a car”<br>} }</p><p>在一个被重写的函数中,可以通过 super 回调该函数在父类中的版本</p><p>override func description() -&gt; String {<br>         var description = super.description()<br>         return description + “, which is a car”<br>}</p><h4 id="初始化与反初始化"><a href="#初始化与反初始化" class="headerlink" title="初始化与反初始化"></a>初始化与反初始化</h4><p>class InitAndDeinitExample {<br>    // 指定的初始化器(也就是主初始化器)<br>    init() {<br>        print(“I’ve been created!”)<br>    }<br>    // 便捷初始化器,是调用上述指定初始化器所必需的<br>    convenience init (text: String) {<br>        self.init() // 这是必需的<br>        print(“I was called with the convenience initializer!”)<br>    }<br>    // 反初始化器<br>    deinit {<br>        print(“I’m going away!”)<br>    }<br>}</p><p>var example : InitAndDeinitExample?<br>// 使用指定的初始化器<br>example = InitAndDeinitExample() // 输出”I’ve been created!”<br>example = nil // 输出”I’m going away”<br>// 使用便捷初始化器<br>example = InitAndDeinitExample(text: “Hello”)<br>// 输出”I’ve been created!”<br>// 然后输出”I was called with the convenience initializer”<br>创建一个可以返回 nil 的初始化器(也称为可以失败的初始化器),就在 init 关键字的后面放上一个问号,并在初始化器确定它不能成功地构造该对象时,使用 return nil:</p><p>convenience init? (value: Int) {<br>    self.init()<br>    if value &gt; 5 {<br>        // 不能初始化这个对象;返回nil,表示初始化失败 return nil<br>    } }<br>在使用一个可以失败的初始化器时,任何可以在其中存储该结果的变量都是可选的:</p><p>let failableExample = InitAndDeinitExample(value: 6)</p><h4 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h4><p>使用协议的好处是,可以利用 Swift 的类型体系来引用任何遵守某一给定协议的对象，个人现在理解为是Interface概念。</p><p>protocol Blinking{<br>    var isBlinking:Bool{get}<br>    var blinkSpeed: Double { get set }<br>    func startBlinking(blinkSpeed: Double) -&gt; Void</p><p>}</p><p>class Light:Blinking{<br>    var isBlinking = false<br>    var blinkSpeed = 1.2<br>    func startBlinking(blinkSpeed: Double) {<br>            print(“now my speed is (self.blinkSpeed)”)<br>    }</p><p>}</p><h4 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h4><p> extension Int {<br>         var doubled : Int {<br>             return self <em> 2<br>         }<br>         func multiplyWith(anotherNumber: Int) -&gt; Int {<br>             return self </em> anotherNumber<br>} }</p><p>2.doubled  // = 4<br>4.multiplyWith(32) // = 128<br>还可以利用扩展使一个类型遵守一个协议</p><p>extension Int : Blinking {<br>    var isBlinking : Bool {<br>        return false;<br>    }<br>    var blinkSpeed : Double {<br>        get {<br>            return 0.0; }<br>        set {<br>            // 不做任何事情<br>        } }<br>    func startBlinking(blinkSpeed : Double) {<br>        print(“I am the integer (self). I do not blink.”)<br>    } }<br>2.isBlinking // = false<br>2.startBlinking(2.0) // 输出”I am the integer 2. I do not blink.”</p><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ul><li>单返回值简单函数<br>两个参数一个返回值，都为Int</li></ul><p>func thirdFunction(firstValue: Int, secondValue: Int) -&gt; Int {<br>         return firstValue + secondValue<br>     }<br>thirdFunction(1, 2)</p><ul><li>使用元组多返回值<br>func fourthFunction(firstValue: Int, secondValue: Int)<pre><code>-&gt; (doubled: Int, quadrupled: Int) {return (firstValue * 2, secondValue * 4)</code></pre>   }<br>fourthFunction(2, 4)</li></ul><p>// 用数字访问:<br>fourthFunction(2, 4).1 // = 16</p><p>// 其他相同,只是使用了名字:<br>fourthFunction(2, 4).quadrupled // = 16</p><ul><li>外部名称调用<br>在定义函数时,可以为参数指定名字。当无法马上明白每个参数的用途时,这一功能会非 常有用。可以像下面这样来定义参数名字:</li></ul><p>func addNumbers(firstNumber num1 : Int, toSecondNumber num2: Int) -&gt; Int {<br>         return num1 + num2<br>}<br>addNumbers(firstNumber: 2, toSecondNumber: 3)  // = 5</p><p>在为参数创建名字时,就是为参数创建一个内部名字和一个外部名字,一个参数的内部名字应当与外部名字相同。将同一个名字输 入两次也没有什么问题,但的确有一种简便的方式来定义一个外部名字与内部名字相同的 参数——就是在参数名之前放一个 # 符号</p><p>func multiplyNumbers(#firstNumber: Int, #multiplier: Int) -&gt; Int {<br>         return firstNumber * multiplier<br>}<br>multiplyNumbers(firstNumber: 2, multiplier: 3)  // = 6</p><ul><li>将函数用作变量<br>var numbersFunc: (Int, Int) -&gt; Int;<br>// numbersFunc现在可以存储任何接受两个Int并返回一个Int的函数</li></ul><p>numbersFunc = addNumbers<br>numbersFunc(2, 3) // = 5</p><h3 id="closure"><a href="#closure" class="headerlink" title="closure"></a>closure</h3><p>sort需要传递一个闭包作为参数</p><p>var numbers = [2,4,34,6,33,1,67,20]<br>var numbersSorted = numbers.sort( { (first, second ) -&gt; Bool in</p><pre><code>return first &lt; second</code></pre><p>})<br>闭包只包含一行代码,可以省略 return 关键字</p><p>var numbersSorted = numbers.sort( { $1 &gt; $0})<br>print(numbersSorted)<br>如果一个闭包是函数调用中的最后一个参数,可以将它放在括号外面。这纯粹是为 了提高可读性,不会改变闭包的工作方式</p><p>var numbersSorted = numbers.sort(){ $1 &gt; $0}<br>print(numbersSorted)<br>闭包放在变量里面</p><p>var comparator = {(a: Int, b: Int) in a &lt; b}<br>comparator(1, 2)  // = true</p><h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h3><p>在将一个方法或属性声明为 public 时,App 中的所有人都能看到它:</p><p>// 可供所有人访问<br>public var publicProperty = 123</p><p>//如果将一个方法或属性声明为 private,那只能在声明它的源文件内部看到它:<br>// 只能在这个源文件中访问<br>private var privateProperty = 123</p><p>// 仅能供本模块访问<br>// 这里的’internal’是默认的,可以省略<br>internal var internalProperty = 123</p><h3 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h3><p>类似C++的运算符重载</p><p>class Vector2D {<br>    var x : Float = 0.0<br>    var y : Float = 0.0<br>    init (x : Float, y: Float) {<br>        self.x = x<br>        self.y = y<br>    }</p><p>}<br>func +(left : Vector2D, right: Vector2D) -&gt; Vector2D {<br>    let result = Vector2D(x: left.x + right.x, y: left.y + right.y)<br>    return result<br>}</p><p>let first = Vector2D(x: 2, y: 2)<br>let second = Vector2D(x: 4, y: 1)<br>let result = first + second</p><h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><p>Swift与Java泛型相同</p><p>class Tree <t> {<br>    // ‘T’现在可以用作一种类型 var value : T<br>    var value:T<br>    var children : [Tree <t>] = []<br>    init(value : T) {<br>        self.value = value<br>    }<br>    func addChild(value : T) -&gt; Tree <t> {<br>        var newChild = Tree<t>(value: value)<br>        children.append(newChild)<br>        reutrn newChild<br>    }<br>}</t></t></t></t></p><p>// 整数树<br>let integerTree = Tree<int>(value: 5)<br>// 可以增加包含Int的子树<br>integerTree.addChild(10)<br>//用Swift设计程序 | 45<br>integerTree.addChild(5)<br>// 字符串树<br>let stringTree = Tree<string>(value: “Hello”)<br>stringTree.addChild(“Yes”)<br>stringTree.addChild(“Internets”)</string></int></p><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>比较字符串</p><p>  let string1 : String = “Hello”<br>     let string2 : String = “Hel” + “lo”<br>     if string1 == string2 {<br>         println(“The strings are equal”)<br>  }<br>查找字符串</p><p> if string1.hasPrefix(“H”) {<br>         println(“String begins with an H”)<br>     }<br>     if string1.hasSuffix(“llo”) {<br>         println(“String ends in ‘llo’”)<br>     }<br>数据<br>let stringToConvert = “Hello, Swift”<br>let data = stringToConvert.dataUsingEncoding(NSUTF8StringEncoding)</p><h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><ol><li>Returning data from async call in Swift function<br>-&gt; pass callback</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// in Bookshop class</span><br><span class="line">func getGenres( completionHandler: (generes: NSArray) -&gt;()) &#123;</span><br><span class="line">    let task = session.dataTaskWithURL(url) &#123;</span><br><span class="line">    data, response, error in</span><br><span class="line">      ...</span><br><span class="line">      resultArray = results</span><br><span class="line">      completionHandler(genres: resultArray)</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    task.resume()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">override func viewDidload() &#123;</span><br><span class="line">Bookshop.getGenres &#123;</span><br><span class="line">        gernres in </span><br><span class="line">            println(&quot;view controller :\(genres)&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;简单，安全，快&lt;/p&gt;
&lt;p&gt;Ojbective-C 的方法名字太长&lt;/p&gt;
&lt;p&gt;Swift 舍弃了null 而使用Optional 语言&lt;/p&gt;
&lt;h3 id=&quot;变量与常量&quot;&gt;&lt;a href=&quot;#变量与常量&quot; class=&quot;headerlink&quot; title=&quot;变量与常
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iOS UICOllectionView</title>
    <link href="http://www.yuliang.xyz/2018/06/19/ios-ui-collectionview/"/>
    <id>http://www.yuliang.xyz/2018/06/19/ios-ui-collectionview/</id>
    <published>2018-06-19T04:13:53.000Z</published>
    <updated>2019-02-06T03:22:59.247Z</updated>
    
    <content type="html"><![CDATA[<p>11、UICollectionView自定义layout如何实现？</p><p>实现一个自定义layout的常规做法是继承UICollectionViewLayout类，然后重载下列方法：</p><p>-(CGSize)collectionViewContentSize<br>返回collectionView的内容的尺寸<br>-(NSArray <em>)layoutAttributesForElementsInRect:(CGRect)rect<br>返回rect中的所有的元素的布局属性<br>返回的是包含UICollectionViewLayoutAttributes的NSArray<br>UICollectionViewLayoutAttributes可以是cell，追加视图或装饰视    图的信息，通过不同的UICollectionViewLayoutAttributes初始化方法可以得到不同类型的UICollectionViewLayoutAttributes：<br>   layoutAttributesForCellWithIndexPath:<br>   layoutAttributesForSupplementaryViewOfKind:withIndexPath:<br>layoutAttributesForDecorationViewOfKind:withIndexPath:<br>  -(UICollectionViewLayoutAttributes )layoutAttributesForItemAtIndexPath:(NSIndexPath )indexPath<br>返回对应于indexPath的位置的cell的布局属性<br>-(UICollectionViewLayoutAttributes )layoutAttributesForSupplementaryViewOfKind:(NSString )kind atIndexPath:(NSIndexPath </em>)indexPath<br>返回对应于indexPath的位置的追加视图的布局属性，如果没有追加视图可不重载<br>-(UICollectionViewLayoutAttributes * )layoutAttributesForDecorationViewOfKind:(NSString)decorationViewKind atIndexPath:(NSIndexPath )indexPath<br>返回对应于indexPath的位置的装饰视图的布局属性，如果没有装饰视图可不重载<br>-(BOOL)shouldInvalidateLayoutForBoundsChange:(CGRect)newBounds<br>当边界发生改变时，是否应该刷新布局。如果YES则在边界变化（一般是scroll到其他地方）时，将重新计算需要的布局信息。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;11、UICollectionView自定义layout如何实现？&lt;/p&gt;
&lt;p&gt;实现一个自定义layout的常规做法是继承UICollectionViewLayout类，然后重载下列方法：&lt;/p&gt;
&lt;p&gt;-(CGSize)collectionViewContentSize
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ios-core-location</title>
    <link href="http://www.yuliang.xyz/2018/06/19/ios-core-location/"/>
    <id>http://www.yuliang.xyz/2018/06/19/ios-core-location/</id>
    <published>2018-06-19T04:13:06.000Z</published>
    <updated>2018-06-19T04:13:06.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iOS MapKit 总结</title>
    <link href="http://www.yuliang.xyz/2018/06/19/ios-mapkit/"/>
    <id>http://www.yuliang.xyz/2018/06/19/ios-mapkit/</id>
    <published>2018-06-19T04:10:31.000Z</published>
    <updated>2018-06-20T05:31:14.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MapKit的核心类为MkMapKit"><a href="#MapKit的核心类为MkMapKit" class="headerlink" title="MapKit的核心类为MkMapKit"></a>MapKit的核心类为MkMapKit</h1><h2 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h2><ul><li><p>showUserLocation: Bool</p></li><li><p>userLocation: MKUserLocation</p></li><li><p>userTrackingMode: MKUserTrackingMode</p></li></ul><p>enum MKUserTrackingMode: NSInteger {<br>    MKUserTrackingModeNone = 0,<br>    MKUserTrackingModeFollow,<br>    MKUserTrackingModeWithHeading,<br>}</p><ul><li>mapType: MKMapType</li></ul><p>enum MKMapType: NSInteger {<br>    MKMapTypeStandard = 0,<br>    MKMapTypeSatellite,<br>    MKMapTypeSatelliteFlyover,<br>    MKMapTypeBirdFloyover,<br>}</p><ul><li>annotations:</li></ul><ul><li><p>zoomEnabled: Bool</p></li><li><p>scrollEnabled: Bool</p></li><li><p>rotateenabled: Bool</p></li><li><p>pitchEnabled: Bool</p></li><li><p>showsBuilding: Bool</p></li><li><p>showsTraffic: Bool</p></li><li><p>showsCompass: Bool</p></li><li><p>showsScale: Bool</p></li></ul><h2 id="MKMapKit-Function"><a href="#MKMapKit-Function" class="headerlink" title="MKMapKit Function"></a>MKMapKit Function</h2><p>func addAnnotation(<em> annotation: MKAnnotation)<br>func addAnnotations(</em> annotations: [MKAnnotation])</p><p>func removeAnnotation(<em> annotation: MKAnnotation)<br>func removeAnnotations(</em> annotations: [MKAnnotation])</p><p>selectAnnotation: annotation animated: Bool<br>deselectAnnotation: annotation animated: Bool</p><p>viewForAnnotation: annotation<br>dequeueResuableAnnotationViewWithIdentifier</p><p>setRegion:Region, animated: Bool<br>SetCenterCoordinate: coordinate, animated: Bool</p><p>convertCoordinate: coordinate, toPointToView: view<br>convertPoint: oint, toCoordinateFromView: view</p><h2 id="Delegate-Functions"><a href="#Delegate-Functions" class="headerlink" title="Delegate Functions"></a>Delegate Functions</h2><ul><li><p>mapViewDidFinishLoadingMap</p></li><li><p>mapViewDidFailLoadingMap</p></li><li><p>mapViewDidUpdateUserLocation</p></li><li><p>mapViewRegionDidChangeAnimation</p></li><li><p>mapViewdidSelectedAnnotationView</p></li><li><p>mapViewdidDeselectedAnnotationView</p></li><li><p>mapviewViewForAnnotation</p></li></ul><h1 id="MKAnnotationView"><a href="#MKAnnotationView" class="headerlink" title="MKAnnotationView"></a>MKAnnotationView</h1><h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><p>annotation: MKAnnotation<br>image: UIImage<br>reuseIdentifier: NSString<br>calloutOffset: CGPoint<br>seleted: Bool<br>canShowCallout: Bool<br>leftCalloutAccessoryView: UIView<br>rightCalloutAccessoryView: UIView</p><h1 id="MapView-的技巧与注意事项"><a href="#MapView-的技巧与注意事项" class="headerlink" title="MapView 的技巧与注意事项"></a>MapView 的技巧与注意事项</h1><ol><li>refresing MKMapView for iphone developement<br>Issue: add annotations after the view is loaded. The annotations cannot be displayed on the mapview<br>Solution:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[self performSelectorOnMainThread;@selector(reloadMap) </span><br><span class="line">    withObject: nil waitUntilDone: false];</span><br><span class="line"></span><br><span class="line">- (void) reloadMap</span><br><span class="line">&#123;</span><br><span class="line">[map setRegion: map.region animated: true];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>iOS refreshing annotations on MapView, simply remove all the annotations and then re-add them<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mapView removeAnnotations: [mapView.annotations]];</span><br><span class="line">[mapView addAnnotations: [mapView.annotations]];</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MapKit的核心类为MkMapKit&quot;&gt;&lt;a href=&quot;#MapKit的核心类为MkMapKit&quot; class=&quot;headerlink&quot; title=&quot;MapKit的核心类为MkMapKit&quot;&gt;&lt;/a&gt;MapKit的核心类为MkMapKit&lt;/h1&gt;&lt;h2 i
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iOS Storyboard</title>
    <link href="http://www.yuliang.xyz/2018/06/18/ios-storyboard/"/>
    <id>http://www.yuliang.xyz/2018/06/18/ios-storyboard/</id>
    <published>2018-06-19T03:32:42.000Z</published>
    <updated>2019-02-06T03:23:11.406Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Objective-C 中协议(Protocol)的基本概念和用法</title>
    <link href="http://www.yuliang.xyz/2018/06/18/ios-protocols/"/>
    <id>http://www.yuliang.xyz/2018/06/18/ios-protocols/</id>
    <published>2018-06-19T03:29:30.000Z</published>
    <updated>2018-06-24T23:39:12.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LLDB XCode 内置调试工具</title>
    <link href="http://www.yuliang.xyz/2018/06/18/ios-lldb/"/>
    <id>http://www.yuliang.xyz/2018/06/18/ios-lldb/</id>
    <published>2018-06-19T00:41:31.000Z</published>
    <updated>2018-06-19T02:21:28.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/7fb43e0b956a" target="_blank" rel="noopener"></a></p><p>LLDB是个开源的内置于XCode的调试工具，常用的调试工具有：</p><p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (void) func3 &#123;</span><br><span class="line">    int a = 1;</span><br><span class="line">    int b = 2;</span><br><span class="line">    int c = a + b;</span><br><span class="line">    NSLog(@&quot;address of c is: %p&quot;, &amp;b);</span><br><span class="line">    NSLog(@&quot;address of c is: %p&quot;, &amp;c);</span><br><span class="line">    NSString *testString = @&quot;abcd1234&quot;;</span><br><span class="line">    NSLog(@&quot;value of a + b is: %i.&quot;, c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="1-打印值、修改值、调用方法"><a href="#1-打印值、修改值、调用方法" class="headerlink" title="1.打印值、修改值、调用方法"></a>1.打印值、修改值、调用方法</h2><p>1.1 P 和 Po<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// po 只会输出对应的值</span><br><span class="line">(lldb) po c</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">// p 会返回值的类型以及命令结果的引用名</span><br><span class="line">// 输出值+值类型+引用名+内存地址(</span><br><span class="line">(lldb) p c</span><br><span class="line">(int) $2 = 3</span><br></pre></td></tr></table></figure></p><p>// P 还能进行常量的进制转换 transform between different numeral system<br>// Decimal, Binary, Octal, Hexadecimal</p><ul><li><p>默认打印为10进制<br>(lldb) p 100<br>(int) $6 = 100</p></li><li><p>转16进制<br>(lldb) p/x 100<br>(int) $7 = 0x00000064</p></li><li><p>转8进制<br>(lldb) p/o 100<br>(int) $8 = 0144</p></li><li><p>转二进制<br>(lldb) p/t 100<br>(int) $9 = 0b00000000000000000000000001100100</p></li><li><p>字符转10进制数字<br>(lldb) p/d ‘A’<br>(char) $10 = 65</p></li><li><p>10进制数字转字符<br>(lldb) p/c 66<br>(int) $11 = B\0\0\0</p></li></ul><p>1.2 expression 修改参数值</p><ul><li><p>可以打印值<br>(lldb) expression a<br>(int) $0 = 1</p></li><li><p>修改值<br>(lldb) expression a = 10<br>(int) $1 = 10<br>// now a is 10, a + b = 12 instead of 3<br>(lldb) p a<br>(int) $2 = 10</p></li></ul><p>1.3 call 方法调用<br>同样为输出值+值类型+引用名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(lldb) call testString</span><br><span class="line">(__NSCFConstantString *) $0 = 0x00000001029f7188 @&quot;abcd1234&quot;</span><br></pre></td></tr></table></figure></p><h2 id="2-Thread"><a href="#2-Thread" class="headerlink" title="2.Thread"></a>2.Thread</h2><p>2.1 堆栈打印 thread backtrace<br>(lldb) bt 10 (only output 10 lines)</p><p>2.2 thread return 跳出当前方法的执行<br>(lldb) thread return 999<br>–&gt; 在断点停下后，直接让方法 func3 返回999</p><p>(lldb) thread return<br>–&gt; 直接跳出方法，不让代码执行某个方法，</p><p>2.3 </p><h2 id="3-Image"><a href="#3-Image" class="headerlink" title="3.Image"></a>3.Image</h2><h2 id="4-Breakpoint"><a href="#4-Breakpoint" class="headerlink" title="4.Breakpoint"></a>4.Breakpoint</h2><h2 id="5-Alias"><a href="#5-Alias" class="headerlink" title="5.Alias"></a>5.Alias</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/7fb43e0b956a&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;LLDB是个开源的内置于XCode的调试工具，常用的调试工具有：&lt;/p&gt;
&lt;p&gt;Examp
      
    
    </summary>
    
    
  </entry>
  
</feed>
